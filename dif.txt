diff --git a/backend/package.json b/backend/package.json
index 51e9f77..e56a44f 100644
--- a/backend/package.json
+++ b/backend/package.json
@@ -23,7 +23,7 @@
     "db:seed:subset": "npx -y tsx db/seeds/cli.ts seed --mode static --fresh --only \"package-sizes,items,item-packing,logistics-centers,available-stock,demand-statistics,users\" --yes",
     "db:rebuild:static": "npm run db:reset && npm run db:seed:static",
     "seed:ams": "ts-node --transpile-only db/seeds/dev/next2-ams.seeder.ts",
-    "seed:testorders" :"ts-node db/seeds/dev/ordersForTesting.seed.ts"
+    "seed:testorders": "ts-node db/seeds/dev/ordersForTesting.seed.ts"
   },
   "author": "",
   "license": "ISC",
diff --git a/frontend/package.json b/frontend/package.json
index b2e2623..e3db8e0 100644
--- a/frontend/package.json
+++ b/frontend/package.json
@@ -13,7 +13,7 @@
     "@chakra-ui/react": "^3.27.0",
     "@emotion/react": "^11.14.0",
     "@emotion/styled": "^11.14.1",
-    "@googlemaps/js-api-loader": "^1.16.10",
+    "@googlemaps/js-api-loader": "^2.0.1",
     "@react-google-maps/api": "^2.20.7",
     "@tanstack/react-query": "^5.85.3",
     "axios": "^1.11.0",
diff --git a/frontend/src/api/user.ts b/frontend/src/api/user.ts
index 9a0a744..4236e88 100644
--- a/frontend/src/api/user.ts
+++ b/frontend/src/api/user.ts
@@ -2,28 +2,55 @@ import { api } from "./config";
 import { z } from "zod";
 import { AddressListSchema, type Address } from "@/types/address";
 
+/* ---------- Zod helpers (null/undefined → safe types) ---------- */
+
+// required string: null/undefined -> "", everything -> String(v)
+const zRequiredString = z.preprocess(
+  (v) => (v == null ? "" : String(v)),
+  z.string()
+);
+
+// email that allows empty string when server sends null/empty
+const zEmailString = z.preprocess(
+  (v) => (v == null ? "" : String(v)),
+  z.string().email().or(z.literal(""))
+);
+
+// optional string: null/undefined -> undefined, else String(v)
+const zOptionalString = z.preprocess(
+  (v) => (v == null ? undefined : String(v)),
+  z.string().optional()
+);
+
 /* -------- Contact -------- */
 export const ContactSchema = z.object({
-  name: z.string().optional(),
-  email: z.string().email(),
-  phone: z.string(),
-  birthday: z.string().optional(),
+  name: zOptionalString,
+  email: zEmailString,        // <- tolerant to null → ""
+  phone: zRequiredString,     // <- tolerant to null → ""
+  birthday: zOptionalString,
 });
 export type Contact = z.infer<typeof ContactSchema>;
 
+function normalizeContact(raw: any): Contact {
+  // normalize alternate keys first
+  if (raw?.birthDate && !raw?.birthday) raw.birthday = raw.birthDate;
+  // Zod will now coerce nulls safely
+  return ContactSchema.parse(raw ?? {});
+}
+
 export async function getUserContact(): Promise<Contact> {
   const { data } = await api.get("/users/contact");
-  const raw = (data?.data ?? data) as any;
-  // normalize alternate keys
-  if (raw?.birthDate && !raw?.birthday) raw.birthday = raw.birthDate;
-  return ContactSchema.parse(raw);
+  const raw = data?.data ?? data;
+  return normalizeContact(raw);
 }
 
 export async function updateUserContact(
   p: Partial<Pick<Contact, "email" | "phone">>
 ): Promise<Contact> {
+  // send through as-is (server decides), parse response defensively
   const { data } = await api.patch("/users/contact", p);
-  return ContactSchema.parse(data?.data ?? data);
+  const raw = data?.data ?? data;
+  return normalizeContact(raw);
 }
 
 /* -------- Addresses -------- */
diff --git a/frontend/src/components/common/AddressAutocomplete.tsx b/frontend/src/components/common/AddressAutocomplete.tsx
index 20e233d..b6bc620 100644
--- a/frontend/src/components/common/AddressAutocomplete.tsx
+++ b/frontend/src/components/common/AddressAutocomplete.tsx
@@ -1,13 +1,24 @@
-import { useEffect, useRef } from 'react'
-import { Input, type InputProps } from '@chakra-ui/react';
-import { loadGoogleMaps } from '@/utils/googleMaps'
-
-type Props = Omit<InputProps, 'onChange' | 'value'> & {
-  value: string
-  onChange: (val: string) => void
-  onPlaceSelected?: (payload: { address: string; lat?: number; lng?: number }) => void
+import { useEffect, useRef } from "react";
+import { Input, type InputProps } from "@chakra-ui/react";
+import { loadGoogleMaps } from "@/utils/googleMaps";
+
+type Props = Omit<InputProps, "onChange" | "value"> & {
+  value: string;
+  onChange: (val: string) => void;
+  onPlaceSelected?: (payload: { address: string; lat?: number; lng?: number }) => void;
   /** Optional country restriction, e.g. "IL" or "US,CA" */
-  countries?: string
+  countries?: string;
+};
+
+let pacStyleInjected = false;
+function ensurePacZIndexStyle() {
+  if (pacStyleInjected) return;
+  const style = document.createElement("style");
+  style.textContent = `
+    .pac-container { z-index: 2147483647 !important; } /* sit above dialogs/tooltips */
+  `;
+  document.head.appendChild(style);
+  pacStyleInjected = true;
 }
 
 export default function AddressAutocomplete({
@@ -17,52 +28,100 @@ export default function AddressAutocomplete({
   countries,
   ...rest
 }: Props) {
-  const ref = useRef<HTMLInputElement | null>(null)
+  const inputRef = useRef<HTMLInputElement | null>(null);
+  const acRef = useRef<google.maps.places.Autocomplete | null>(null);
+  const listenerRef = useRef<google.maps.MapsEventListener | null>(null);
+  const pacContainerRef = useRef<HTMLElement | null>(null);
+
+  // Keep latest callbacks (avoid effect deps on function identity)
+  const onChangeRef = useRef(onChange);
+  const onPlaceSelectedRef = useRef(onPlaceSelected);
+  useEffect(() => { onChangeRef.current = onChange; }, [onChange]);
+  useEffect(() => { onPlaceSelectedRef.current = onPlaceSelected; }, [onPlaceSelected]);
 
   useEffect(() => {
-    let autocomplete: google.maps.places.Autocomplete | null = null
-    let listener: google.maps.MapsEventListener | null = null
+    let cancelled = false;
+
+    (async () => {
+      // Make sure Maps + Places lib are loaded (v2 importLibrary under the hood)
+      await loadGoogleMaps();
+      if (cancelled || !inputRef.current) return;
+
+      ensurePacZIndexStyle();
 
-    loadGoogleMaps().then((g) => {
-      if (!ref.current) return
+      const g = (window as any).google as typeof google;
 
       const opts: google.maps.places.AutocompleteOptions = {
-        fields: ['formatted_address', 'geometry', 'place_id'],
-        types: ['geocode'],
-      }
+        fields: ["formatted_address", "geometry", "place_id"],
+        types: ["geocode"],
+      };
 
-      // Add country restriction if provided
       if (countries) {
-        const list = countries.split(',').map((s) => s.trim()).filter(Boolean)
-        // Typings are loose here; this is the correct runtime shape.
-        // ts-expect-error componentRestrictions isn't fully typed
-        opts.componentRestrictions = { country: list.length <= 1 ? list[0] : list }
+        const list = countries.split(",").map((s) => s.trim()).filter(Boolean);
+        opts.componentRestrictions = { country: list.length <= 1 ? list[0] : list };
       }
 
-      autocomplete = new g.maps.places.Autocomplete(ref.current!, opts)
+      // Create Autocomplete instance
+      const ac = new g.maps.places.Autocomplete(inputRef.current, opts);
+      acRef.current = ac;
+
+      // Capture the pac-container Google just appended to <body>
+      setTimeout(() => {
+        const all = Array.from(document.querySelectorAll(".pac-container")) as HTMLElement[];
+        pacContainerRef.current = all[all.length - 1] ?? null;
+      }, 0);
+
+      // Prevent Enter from submitting forms while a suggestion is being chosen
+      const onKeyDown = (ev: KeyboardEvent) => {
+        if (ev.key === "Enter") {
+          ev.stopPropagation();
+          // Let Google handle the selection; avoid form submit
+          ev.preventDefault();
+        }
+      };
+      inputRef.current.addEventListener("keydown", onKeyDown);
 
-      listener = autocomplete.addListener('place_changed', () => {
-        const place = autocomplete!.getPlace()
-        const address = place.formatted_address || ref.current!.value
-        const lat = place.geometry?.location?.lat()
-        const lng = place.geometry?.location?.lng()
-        onChange(address)
-        onPlaceSelected?.({ address, lat, lng })
-      })
-    })
+      // place_changed handler
+      listenerRef.current = ac.addListener("place_changed", () => {
+        const place = ac.getPlace();
+        const address = place.formatted_address || inputRef.current!.value;
+        const lat = place.geometry?.location?.lat();
+        const lng = place.geometry?.location?.lng();
+        onChangeRef.current(address);
+        onPlaceSelectedRef.current?.({ address, lat, lng });
+      });
+
+      // Cleanup
+      return () => {
+        inputRef.current?.removeEventListener("keydown", onKeyDown);
+      };
+    })();
 
     return () => {
-      listener?.remove()
-    }
-  }, [onChange, onPlaceSelected, countries])
+      cancelled = true;
+      try {
+        listenerRef.current?.remove();
+        listenerRef.current = null;
+        acRef.current = null;
+
+        // Remove the specific PAC container created for this instance
+        // (prevents .pac-container piling up when component unmounts)
+        pacContainerRef.current?.remove();
+        pacContainerRef.current = null;
+      } catch {}
+    };
+  }, [countries]);
 
   return (
     <Input
-      ref={ref}
+      ref={inputRef}
       value={value}
-      onChange={(e) => onChange(e.target.value)}
+      // important: avoid browser autofill fighting with Google PAC
+      autoComplete="off"
+      // keep parent onChange wired
+      onChange={(e) => onChangeRef.current(e.target.value)}
       placeholder="Search address"
       {...rest}
     />
-  )
+  );
 }
diff --git a/frontend/src/components/common/MapPickerDialog.tsx b/frontend/src/components/common/MapPickerDialog.tsx
index 59f3431..0cfb71e 100644
--- a/frontend/src/components/common/MapPickerDialog.tsx
+++ b/frontend/src/components/common/MapPickerDialog.tsx
@@ -1,23 +1,13 @@
+// src/components/common/MapPickerDialog.tsx
 "use client";
 
 import { useCallback, useEffect, useRef, useState } from "react";
-import {
-  Box,
-  Button,
-  Dialog,
-  Field,
-  Flex,
-  HStack,
-  IconButton,
-  Spinner,
-  Text,
-} from "@chakra-ui/react";
+import { Box, Button, Dialog, Field, Flex, HStack, IconButton, Spinner, Text } from "@chakra-ui/react";
 import { X as CloseIcon } from "lucide-react";
 import AddressAutocomplete from "@/components/common/AddressAutocomplete";
 import { loadGoogleMaps, reverseGeocode } from "@/utils/googleMaps";
 
 type MapPickerValue = { address: string; lat: number; lng: number };
-
 type Props = {
   open: boolean;
   onClose: () => void;
@@ -26,16 +16,11 @@ type Props = {
   countries?: string;
 };
 
-export default function MapPickerDialog({
-  open,
-  onClose,
-  onConfirm,
-  initial,
-  countries,
-}: Props) {
-  const boxRef = useRef<HTMLDivElement | null>(null);
+export default function MapPickerDialog({ open, onClose, onConfirm, initial, countries }: Props) {
+  const hostRef = useRef<HTMLDivElement | null>(null);
   const mapRef = useRef<google.maps.Map | null>(null);
   const markerRef = useRef<google.maps.Marker | null>(null);
+  const listenersRef = useRef<google.maps.MapsEventListener[]>([]);
 
   const [loadingMap, setLoadingMap] = useState(false);
   const [busy, setBusy] = useState(false);
@@ -44,109 +29,126 @@ export default function MapPickerDialog({
   const [lng, setLng] = useState<number>(initial?.lng ?? 35.217018);
   const [address, setAddress] = useState<string>(initial?.address ?? "");
 
-  const pickedRef = useRef(false);
+  const cleanupMap = useCallback(() => {
+    try {
+      listenersRef.current.forEach((l) => l.remove());
+      listenersRef.current = [];
+      markerRef.current?.setMap(null);
+      markerRef.current = null;
+      mapRef.current = null;
+      // IMPORTANT: clear host so we don’t reuse stale children
+      if (hostRef.current) hostRef.current.innerHTML = "";
+    } catch {}
+  }, []);
+
+  const waitForSize = useCallback(async () => {
+    const el = hostRef.current;
+    if (!el) return;
+    const ready = () => {
+      const r = el.getBoundingClientRect();
+      return r.width > 0 && r.height > 0;
+    };
+    if (ready()) return;
+
+    await new Promise<void>((resolve) => {
+      let done = false;
+      const ro =
+        typeof ResizeObserver !== "undefined"
+          ? new ResizeObserver(() => {
+              if (!done && ready()) {
+                done = true;
+                ro.disconnect();
+                resolve();
+              }
+            })
+          : null;
 
-  const ensureMarker = useCallback((g: typeof google, pos: google.maps.LatLngLiteral) => {
+      if (ro) ro.observe(el);
+
+      const tick = () => {
+        if (!done && ready()) {
+          done = true;
+          ro?.disconnect();
+          resolve();
+        } else {
+          requestAnimationFrame(tick);
+        }
+      };
+      requestAnimationFrame(tick);
+    });
+  }, []);
+
+  const setMarker = useCallback((g: typeof google, pos: google.maps.LatLngLiteral) => {
     if (!mapRef.current) return;
     if (!markerRef.current) {
-      markerRef.current = new g.maps.Marker({
-        position: pos,
-        map: mapRef.current,
-        draggable: true,
-      });
-      markerRef.current.addListener("dragend", async () => {
-        const p = markerRef.current!.getPosition();
-        if (!p) return;
-        const next = { lat: p.lat(), lng: p.lng() };
-        setLat(next.lat);
-        setLng(next.lng);
-        setBusy(true);
-        try {
-          setAddress((await reverseGeocode(next.lat, next.lng)) || "");
-        } finally {
-          setBusy(false);
-        }
-      });
+      markerRef.current = new g.maps.Marker({ position: pos, map: mapRef.current, draggable: true });
+      listenersRef.current.push(
+        markerRef.current.addListener("dragend", async () => {
+          const p = markerRef.current!.getPosition();
+          if (!p) return;
+          const next = { lat: p.lat(), lng: p.lng() };
+          setLat(next.lat);
+          setLng(next.lng);
+          setBusy(true);
+          try {
+            setAddress((await reverseGeocode(next.lat, next.lng)) || "");
+          } finally {
+            setBusy(false);
+          }
+        })
+      );
     } else {
       markerRef.current.setPosition(pos);
     }
     mapRef.current.setCenter(pos);
   }, []);
 
-  const forwardGeocode = useCallback(
-    async (addr: string) => {
-      const query = addr?.trim();
-      if (!query) return;
-      const g = await loadGoogleMaps();
-      const geocoder = new g.maps.Geocoder();
-
-      let componentRestrictions: any;
-      if (countries) {
-        const list = countries.split(",").map((s) => s.trim()).filter(Boolean);
-        componentRestrictions = { country: list.length <= 1 ? list[0] : list };
-      }
-
-      setBusy(true);
-      try {
-        const resp = await geocoder.geocode({ address: query, componentRestrictions });
-        const result = resp.results?.[0];
-        if (!result) return;
-        const loc = result.geometry.location;
-        const next = { lat: loc.lat(), lng: loc.lng() };
-        setLat(next.lat);
-        setLng(next.lng);
-        setAddress(result.formatted_address || query);
-        ensureMarker(g, next);
-      } finally {
-        setBusy(false);
-      }
-    },
-    [countries, ensureMarker],
-  );
-
-  // init map on first open (after Dialog mounts)
+  // Create a brand new map each OPEN
   useEffect(() => {
     if (!open) return;
-    if (mapRef.current || !boxRef.current) return;
 
     let cancelled = false;
     (async () => {
       setLoadingMap(true);
       try {
-        const g = await loadGoogleMaps();
-        if (cancelled || !boxRef.current) return;
+        await loadGoogleMaps();
+        await waitForSize();
+        if (cancelled || !hostRef.current) return;
 
-        mapRef.current = new g.maps.Map(boxRef.current, {
+        const g = (window as any).google as typeof google;
+        // fresh map each time
+        mapRef.current = new g.maps.Map(hostRef.current, {
           center: { lat, lng },
           zoom: 14,
-          mapTypeControl: false,
+          gestureHandling: "greedy",
           streetViewControl: false,
           fullscreenControl: false,
+          mapTypeControl: false,
         });
 
-        await new Promise<void>((resolve) => {
-          const once = g.maps.event.addListenerOnce(mapRef.current!, "idle", () => resolve());
-          setTimeout(() => {
-            g.maps.event.removeListener(once);
-            resolve();
-          }, 3000);
-        });
+        listenersRef.current.push(
+          mapRef.current.addListener("click", async (e: google.maps.MapMouseEvent) => {
+            if (!e.latLng) return;
+            const pos = { lat: e.latLng.lat(), lng: e.latLng.lng() };
+            setLat(pos.lat);
+            setLng(pos.lng);
+            setMarker(g, pos);
+            setBusy(true);
+            try {
+              setAddress((await reverseGeocode(pos.lat, pos.lng)) || "");
+            } finally {
+              setBusy(false);
+            }
+          })
+        );
 
-        mapRef.current.addListener("click", async (e: google.maps.MapMouseEvent) => {
-          if (!e.latLng) return;
-          const pos = { lat: e.latLng.lat(), lng: e.latLng.lng() };
-          setLat(pos.lat);
-          setLng(pos.lng);
-          ensureMarker(g, pos);
-          setBusy(true);
-          try {
-            setAddress((await reverseGeocode(pos.lat, pos.lng)) || "");
-          } finally {
-            setBusy(false);
-          }
-        });
+        setMarker(g, { lat, lng });
 
-        ensureMarker(g, { lat, lng });
+        requestAnimationFrame(() => {
+          if (!mapRef.current) return;
+          g.maps.event.trigger(mapRef.current, "resize");
+          mapRef.current.setCenter({ lat, lng });
+        });
       } finally {
         setLoadingMap(false);
       }
@@ -155,35 +157,28 @@ export default function MapPickerDialog({
     return () => {
       cancelled = true;
     };
-  }, [open, lat, lng, ensureMarker]);
-
-  // when dialog re-opens, force maps resize + recenter
-  useEffect(() => {
-    if (!open || !mapRef.current) return;
-    (async () => {
-      const g = await loadGoogleMaps();
-      requestAnimationFrame(() => {
-        g.maps.event.trigger(mapRef.current!, "resize");
-        mapRef.current!.setCenter({ lat, lng });
-      });
-    })();
+    // eslint-disable-next-line react-hooks/exhaustive-deps
   }, [open, lat, lng]);
 
-  // debounce text geocoding
+  // HARD dispose when it closes (no key required)
   useEffect(() => {
-    if (!open || !address?.trim() || pickedRef.current) return;
-    const t = setTimeout(() => forwardGeocode(address), 600);
-    return () => clearTimeout(t);
-  }, [open, address, forwardGeocode]);
+    if (open) return;
+    cleanupMap();
+  }, [open, cleanupMap]);
+
+  // safety on unmount
+  useEffect(() => cleanupMap, [cleanupMap]);
 
-  const onAddressPicked = (p: { address: string; lat?: number; lng?: number }) => {
-    pickedRef.current = true;
+  const onPickedFromSearch = (p: { address: string; lat?: number; lng?: number }) => {
     setAddress(p.address);
     if (p.lat != null && p.lng != null) {
       setLat(p.lat);
       setLng(p.lng);
+      if (mapRef.current) {
+        const g = (window as any).google as typeof google;
+        setMarker(g, { lat: p.lat, lng: p.lng });
+      }
     }
-    setTimeout(() => (pickedRef.current = false), 250);
   };
 
   const useMyLocation = async () => {
@@ -194,25 +189,28 @@ export default function MapPickerDialog({
         navigator.geolocation.getCurrentPosition(resolve, reject, {
           enableHighAccuracy: true,
           timeout: 10000,
-        }),
+        })
       );
       const next = { lat: pos.coords.latitude, lng: pos.coords.longitude };
       setLat(next.lat);
       setLng(next.lng);
       setAddress((await reverseGeocode(next.lat, next.lng)) || "");
+      if (mapRef.current) {
+        const g = (window as any).google as typeof google;
+        setMarker(g, next);
+      }
     } finally {
       setBusy(false);
     }
   };
 
-  const handleConfirm = () => {
+  const confirm = () => {
     if (!address?.trim() || lat == null || lng == null) return;
     onConfirm({ address: address.trim(), lat, lng });
-    onClose();
   };
 
   return (
-    <Dialog.Root size={"lg"} open={open} onOpenChange={(e) => (!e.open ? onClose() : undefined)}>
+    <Dialog.Root open={open} onOpenChange={(e) => !e.open && onClose()} size="lg">
       <Dialog.Backdrop />
       <Dialog.Positioner>
         <Dialog.Content
@@ -223,16 +221,8 @@ export default function MapPickerDialog({
           display="flex"
           flexDirection="column"
         >
-          {/* Header */}
-          <Flex
-            align="center"
-            justify="space-between"
-            p={{ base: 3, sm: 4 }}
-            borderBottomWidth="1px"
-          >
-            <Dialog.Title fontSize="lg" fontWeight="semibold">
-              Pick a location
-            </Dialog.Title>
+          <Flex align="center" justify="space-between" p={{ base: 3, sm: 4 }} borderBottomWidth="1px">
+            <Dialog.Title fontSize="lg" fontWeight="semibold">Pick a location</Dialog.Title>
             <Dialog.CloseTrigger asChild>
               <IconButton aria-label="Close" size="sm" variant="ghost" borderRadius="lg">
                 <CloseIcon size={16} />
@@ -240,7 +230,6 @@ export default function MapPickerDialog({
             </Dialog.CloseTrigger>
           </Flex>
 
-          {/* Body (scrollable) */}
           <Box p={{ base: 3, sm: 4 }} flex="1" overflowY="auto" minH={{ base: "260px", sm: "320px" }}>
             <Flex direction="column" gap="3">
               <Field.Root>
@@ -248,15 +237,13 @@ export default function MapPickerDialog({
                 <AddressAutocomplete
                   value={address}
                   onChange={setAddress}
-                  onPlaceSelected={onAddressPicked}
+                  onPlaceSelected={onPickedFromSearch}
                   countries={countries}
                   placeholder="Search for an address"
                 />
               </Field.Root>
 
-              {/* Map */}
               <Box
-                ref={boxRef}
                 w="100%"
                 h={{ base: "42vh", sm: "48vh", md: "52vh" }}
                 minH="240px"
@@ -277,9 +264,9 @@ export default function MapPickerDialog({
                     </HStack>
                   </Flex>
                 )}
+                <div ref={hostRef} style={{ width: "100%", height: "100%" }} />
               </Box>
 
-              {/* Coordinates & quick action */}
               <Flex gap="6" wrap="wrap">
                 <Box>
                   <Text fontWeight="medium">Latitude</Text>
@@ -301,10 +288,9 @@ export default function MapPickerDialog({
             </Flex>
           </Box>
 
-          {/* Footer */}
           <Flex p={{ base: 3, sm: 4 }} borderTopWidth="1px" bg="bg" justify="flex-end" gap="2">
-            <Dialog.CloseTrigger/>
-            <Button borderRadius="xl" colorPalette="blue" onClick={handleConfirm} disabled={!address?.trim()}>
+            <Button variant="ghost" onClick={onClose}>Cancel</Button>
+            <Button borderRadius="xl" colorPalette="blue" onClick={confirm} disabled={!address?.trim()}>
               Use this location
             </Button>
           </Flex>
diff --git a/frontend/src/guards/GuestGuard.tsx b/frontend/src/guards/GuestGuard.tsx
index 8f677fd..ccd4e83 100644
--- a/frontend/src/guards/GuestGuard.tsx
+++ b/frontend/src/guards/GuestGuard.tsx
@@ -1,10 +1,14 @@
 import { Navigate, useLocation, Outlet } from "react-router-dom";
 import { useAuthStore } from "@/store/auth";
 import { PATHS } from "@/routes/paths";
+import type { ReactNode } from "react";
 
-type Props = { redirectTo?: string };
+type Props = {
+  redirectTo?: string;
+  children?: ReactNode; // <-- allow children
+};
 
-export default function GuestGuard({ redirectTo = PATHS.dashboard }: Props) {
+export default function GuestGuard({ redirectTo = PATHS.dashboard, children }: Props) {
   const token = useAuthStore((s) => s.token);
   const location = useLocation();
 
@@ -13,6 +17,6 @@ export default function GuestGuard({ redirectTo = PATHS.dashboard }: Props) {
     return <Navigate to={from} replace />;
   }
 
-  // If no token, render nested routes via Outlet
-  return <Outlet />;
+  // If no token, render children if provided, else use nested routes via <Outlet />
+  return <>{children ?? <Outlet />}</>;
 }
diff --git a/frontend/src/main.tsx b/frontend/src/main.tsx
index d9283e8..715ae87 100644
--- a/frontend/src/main.tsx
+++ b/frontend/src/main.tsx
@@ -7,7 +7,6 @@ import { queryClient } from "./providers/queryClient";
 import App from "./App";
 import { Toaster } from "@/components/ui/toaster";
 
-import "leaflet/dist/leaflet.css";
 
 ReactDOM.createRoot(document.getElementById("root")!).render(
   <React.StrictMode>
diff --git a/frontend/src/pages/Register/index.tsx b/frontend/src/pages/Register/index.tsx
index a7cf674..190cdf4 100644
--- a/frontend/src/pages/Register/index.tsx
+++ b/frontend/src/pages/Register/index.tsx
@@ -1,10 +1,11 @@
 "use client";
 
-import { useEffect, useMemo, useState } from "react";
+import { useMemo, useState } from "react";
 import { Link as RouterLink, useNavigate } from "react-router-dom";
 import { useMutation } from "@tanstack/react-query";
 import { registerApi } from "@/api/auth";
-import { type RegisterPayload, type RegisterResponse } from "@/types/auth";
+import type { RegisterPayload, RegisterResponse } from "@/types/auth";
+
 import {
   Box,
   Button,
@@ -20,21 +21,26 @@ import {
 import { toaster } from "@/components/ui/toaster";
 import AddressAutocomplete from "@/components/common/AddressAutocomplete";
 import MapPickerDialog from "@/components/common/MapPickerDialog";
-import { loadGoogleMaps, reverseGeocode } from "@/utils/googleMaps";
+import { reverseGeocode } from "@/utils/googleMaps";
 import { LocateFixed, Eye, EyeOff } from "lucide-react";
 import { Tooltip } from "@/components/ui/tooltip";
-import PhoneFieldControl, { type PhoneValue } from "./components/PhoneFieldControl";
-import { isAtLeast16, isValidEmail, isValidName } from "@/validations/registration.validation";
+import PhoneFieldControl, {
+  type PhoneValue,
+} from "./components/PhoneFieldControl";
+import {
+  isAtLeast16,
+  isValidEmail,
+  isValidName,
+} from "@/validations/registration.validation";
 
 type FormWithoutAddress = Omit<RegisterPayload, "address">;
 
 export default function Register() {
   const navigate = useNavigate();
 
-  // maps + picker
-  const [mapsReady, setMapsReady] = useState(false);
+  // picker dialog + country restriction
   const [pickerOpen, setPickerOpen] = useState(false);
-  const countries = "IL"; // restrict autocomplete to Israel
+  const countries = "IL";
 
   // form (without address object)
   const [form, setForm] = useState<FormWithoutAddress>({
@@ -45,12 +51,12 @@ export default function Register() {
     birthday: "",
   });
 
-  // local-only UI state
+  // local UI state
   const [confirmPassword, setConfirmPassword] = useState("");
   const [showPassword, setShowPassword] = useState(false);
   const [showConfirm, setShowConfirm] = useState(false);
 
-  // address UI state → we’ll build the backend object from these three
+  // address state → backend `address` object will be built from these
   const [addressText, setAddressText] = useState("");
   const [latitude, setLatitude] = useState<number | undefined>(undefined);
   const [longitude, setLongitude] = useState<number | undefined>(undefined);
@@ -62,26 +68,25 @@ export default function Register() {
   });
 
   const [errors, setErrors] = useState<
-    Partial<Record<keyof RegisterPayload | "phone" | "address" | "confirmPassword", string>>
+    Partial<
+      Record<
+        keyof RegisterPayload | "phone" | "address" | "confirmPassword",
+        string
+      >
+    >
   >({});
 
-  // load Google Maps once
-  useEffect(() => {
-    loadGoogleMaps()
-      .then(() => setMapsReady(true))
-      .catch((e) =>
-        toaster.create({
-          type: "error",
-          title: "Google Maps failed",
-          description: e?.message || String(e),
-        })
-      );
-  }, []);
-
-  const { mutate, isPending } = useMutation<RegisterResponse, any, RegisterPayload>({
+  const { mutate, isPending } = useMutation<
+    RegisterResponse,
+    any,
+    RegisterPayload
+  >({
     mutationFn: (payload) => registerApi(payload),
     onSuccess: () => {
-      toaster.create({ title: "Account created! Please login.", type: "success" });
+      toaster.create({
+        title: "Account created! Please login.",
+        type: "success",
+      });
       navigate("/login", { replace: true });
     },
     onError: (err: any) => {
@@ -109,28 +114,36 @@ export default function Register() {
     if (key === "email") clearErrorIfValid("email", isValidEmail(value));
     if (key === "password") {
       clearErrorIfValid("password", value.length >= 8);
-      // keep confirm in sync validation
-      clearErrorIfValid("confirmPassword", !!confirmPassword && confirmPassword === value);
+      clearErrorIfValid(
+        "confirmPassword",
+        !!confirmPassword && confirmPassword === value
+      );
     }
-    if (key === "birthday") clearErrorIfValid("birthday", !!value && isAtLeast16(value));
+    if (key === "birthday")
+      clearErrorIfValid("birthday", !!value && isAtLeast16(value));
   };
 
   const handleBlur = (key: keyof FormWithoutAddress | "confirmPassword") => {
-    // validate on blur for better UX
     if (key === "name") {
-      if (!form.name.trim()) setErrors((p) => ({ ...p, name: "Name is required" }));
+      if (!form.name.trim())
+        setErrors((p) => ({ ...p, name: "Name is required" }));
       else if (!isValidName(form.name))
-        setErrors((p) => ({ ...p, name: "Only letters and single spaces are allowed" }));
+        setErrors((p) => ({
+          ...p,
+          name: "Only letters and single spaces are allowed",
+        }));
     }
     if (key === "email") {
-      if (!form.email.trim()) setErrors((p) => ({ ...p, email: "Email is required" }));
-      else if (!isValidEmail(form.email)) setErrors((p) => ({ ...p, email: "Enter a valid email" }));
+      if (!form.email.trim())
+        setErrors((p) => ({ ...p, email: "Email is required" }));
+      else if (!isValidEmail(form.email))
+        setErrors((p) => ({ ...p, email: "Enter a valid email" }));
     }
     if (key === "password") {
-      if (!form.password) setErrors((p) => ({ ...p, password: "Password is required" }));
+      if (!form.password)
+        setErrors((p) => ({ ...p, password: "Password is required" }));
       else if (form.password.length < 8)
         setErrors((p) => ({ ...p, password: "Use at least 8 characters" }));
-      // also ensure confirm matches if present
       if (confirmPassword && confirmPassword !== form.password) {
         setErrors((p) => ({ ...p, confirmPassword: "Passwords do not match" }));
       } else {
@@ -138,12 +151,17 @@ export default function Register() {
       }
     }
     if (key === "birthday") {
-      if (!form.birthday) setErrors((p) => ({ ...p, birthday: "Birthday is required" }));
+      if (!form.birthday)
+        setErrors((p) => ({ ...p, birthday: "Birthday is required" }));
       else if (!isAtLeast16(form.birthday))
-        setErrors((p) => ({ ...p, birthday: "You must be at least 16 years old" }));
+        setErrors((p) => ({
+          ...p,
+          birthday: "You must be at least 16 years old",
+        }));
     }
     if (key === "confirmPassword") {
-      if (!confirmPassword) setErrors((p) => ({ ...p, confirmPassword: "Confirm your password" }));
+      if (!confirmPassword)
+        setErrors((p) => ({ ...p, confirmPassword: "Confirm your password" }));
       else if (confirmPassword !== form.password)
         setErrors((p) => ({ ...p, confirmPassword: "Passwords do not match" }));
     }
@@ -159,25 +177,6 @@ export default function Register() {
     clearErrorIfValid("phone", !!next.e164);
   };
 
-  // LIVE email check (debounced client-side format validation)
-  useEffect(() => {
-    const email = form.email.trim();
-    // if empty, don't nag; clear error
-    if (!email) {
-      clearErrorIfValid("email", true);
-      return;
-    }
-    const id = setTimeout(() => {
-      if (!isValidEmail(email)) {
-        setErrors((p) => ({ ...p, email: "Enter a valid email" }));
-      } else {
-        clearErrorIfValid("email", true);
-      }
-    }, 300);
-    return () => clearTimeout(id);
-    // eslint-disable-next-line react-hooks/exhaustive-deps
-  }, [form.email]);
-
   // geolocate
   const useMyLocation = async () => {
     if (!navigator.geolocation) {
@@ -204,11 +203,7 @@ export default function Register() {
       setLongitude(lng);
 
       try {
-        if (!mapsReady) {
-          await loadGoogleMaps();
-          setMapsReady(true);
-        }
-        const addr = await reverseGeocode(lat, lng);
+        const addr = await reverseGeocode(lat, lng); // reverseGeocode loads maps internally
         if (addr) setAddressText(addr);
       } catch {
         /* ignore reverse geocode failure */
@@ -227,10 +222,12 @@ export default function Register() {
   };
 
   // computed validity
-  const isAddressValid = !!addressText.trim() && latitude != null && longitude != null;
+  const isAddressValid =
+    !!addressText.trim() && latitude != null && longitude != null;
   const isPhoneValid = !!phoneState.e164;
   const isBirthdayValid = !!form.birthday && isAtLeast16(form.birthday);
   const isConfirmValid = !!confirmPassword && confirmPassword === form.password;
+
   const isFormValid = useMemo(
     () =>
       isValidName(form.name) &&
@@ -249,25 +246,31 @@ export default function Register() {
 
     const newErrors: typeof errors = {};
     if (!form.name?.trim()) newErrors.name = "Name is required";
-    else if (!isValidName(form.name)) newErrors.name = "Only letters and single spaces are allowed";
+    else if (!isValidName(form.name))
+      newErrors.name = "Only letters and single spaces are allowed";
 
     if (!form.email?.trim()) newErrors.email = "Email is required";
     else if (!isValidEmail(form.email)) newErrors.email = "Enter a valid email";
 
     if (!form.password) newErrors.password = "Password is required";
-    else if (form.password.length < 8) newErrors.password = "Use at least 8 characters";
+    else if (form.password.length < 8)
+      newErrors.password = "Use at least 8 characters";
 
     if (!confirmPassword) newErrors.confirmPassword = "Confirm your password";
-    else if (confirmPassword !== form.password) newErrors.confirmPassword = "Passwords do not match";
+    else if (confirmPassword !== form.password)
+      newErrors.confirmPassword = "Passwords do not match";
 
     if (!isBirthdayValid) {
-      newErrors.birthday = form.birthday ? "You must be at least 16 years old" : "Birthday is required";
+      newErrors.birthday = form.birthday
+        ? "You must be at least 16 years old"
+        : "Birthday is required";
     }
 
     if (!isPhoneValid) newErrors.phone = "Phone number is required";
 
     if (!addressText?.trim()) newErrors.address = "Address is required";
-    if (latitude == null || longitude == null) newErrors.address = "Please select a point on the map";
+    if (latitude == null || longitude == null)
+      newErrors.address = "Please select a point on the map";
 
     if (Object.keys(newErrors).length) {
       setErrors(newErrors);
@@ -276,7 +279,6 @@ export default function Register() {
 
     setErrors({});
 
-    // Do NOT send confirmPassword to backend
     const payload: RegisterPayload = {
       ...form,
       phone: phoneState.e164 || undefined,
@@ -333,7 +335,9 @@ export default function Register() {
           {errors.email ? (
             <Field.ErrorText>{errors.email}</Field.ErrorText>
           ) : (
-            <Field.HelperText>We’ll send a confirmation email.</Field.HelperText>
+            <Field.HelperText>
+              We’ll send a confirmation email.
+            </Field.HelperText>
           )}
         </Field.Root>
 
@@ -368,7 +372,9 @@ export default function Register() {
           {errors.password ? (
             <Field.ErrorText>{errors.password}</Field.ErrorText>
           ) : (
-            <Field.HelperText>Use a strong password you don’t reuse elsewhere.</Field.HelperText>
+            <Field.HelperText>
+              Use a strong password you don’t reuse elsewhere.
+            </Field.HelperText>
           )}
         </Field.Root>
 
@@ -431,7 +437,9 @@ export default function Register() {
           {errors.birthday ? (
             <Field.ErrorText>{errors.birthday}</Field.ErrorText>
           ) : (
-            <Field.HelperText>You must be at least 16 years old.</Field.HelperText>
+            <Field.HelperText>
+              You must be at least 16 years old.
+            </Field.HelperText>
           )}
         </Field.Root>
 
@@ -443,19 +451,26 @@ export default function Register() {
             value={addressText}
             onChange={(v) => {
               setAddressText(v);
-              clearErrorIfValid("address", !!v.trim() && latitude != null && longitude != null);
+              clearErrorIfValid(
+                "address",
+                !!v.trim() && latitude != null && longitude != null
+              );
             }}
             onPlaceSelected={({ address, lat, lng }) => {
               setAddressText(address);
               if (lat != null) setLatitude(lat);
               if (lng != null) setLongitude(lng);
-              clearErrorIfValid("address", !!address && lat != null && lng != null);
+              clearErrorIfValid(
+                "address",
+                !!address && lat != null && lng != null
+              );
             }}
             countries={countries}
-            disabled={!mapsReady}
             placeholder="Search and pick an address"
           />
-          {errors.address && <Field.ErrorText>{errors.address}</Field.ErrorText>}
+          {errors.address && (
+            <Field.ErrorText>{errors.address}</Field.ErrorText>
+          )}
         </Field.Root>
 
         <Flex gap={3} align="center" w="full">
@@ -463,7 +478,12 @@ export default function Register() {
             Pick on map
           </Button>
           <Tooltip content="Use my current location" openDelay={0}>
-            <IconButton size="xs" variant="ghost" onClick={useMyLocation} aria-label="Use my location">
+            <IconButton
+              size="xs"
+              variant="ghost"
+              onClick={useMyLocation}
+              aria-label="Use my location"
+            >
               <LocateFixed size={14} />
             </IconButton>
           </Tooltip>
@@ -474,7 +494,12 @@ export default function Register() {
           )}
         </Flex>
 
-        <Button type="submit" loading={isPending} width="full" disabled={!isFormValid || isPending}>
+        <Button
+          type="submit"
+          loading={isPending}
+          width="full"
+          disabled={!isFormValid || isPending}
+        >
           Create account
         </Button>
 
@@ -495,14 +520,13 @@ export default function Register() {
           setLatitude(v.lat);
           setLongitude(v.lng);
           setPickerOpen(false);
-          clearErrorIfValid("address", !!v.address && v.lat != null && v.lng != null);
+          clearErrorIfValid(
+            "address",
+            !!v.address && v.lat != null && v.lng != null
+          );
         }}
-        initial={
-          latitude != null && longitude != null
-            ? { lat: latitude, lng: longitude, address: addressText }
-            : undefined
-        }
-        countries={countries}
+          initial={latitude != null && longitude != null ? { lat: latitude, lng: longitude, address: addressText } : undefined}
+  countries="IL"
       />
     </Box>
   );
diff --git a/frontend/src/pages/package-sizes/components/DeleteConfirm.tsx b/frontend/src/pages/package-sizes/components/DeleteConfirm.tsx
deleted file mode 100644
index 2d5abae..0000000
--- a/frontend/src/pages/package-sizes/components/DeleteConfirm.tsx
+++ /dev/null
@@ -1,64 +0,0 @@
-import { useState } from "react";
-import { Dialog, Flex, Heading, Text, Button, Stack } from "@chakra-ui/react";
-import { toaster } from "@/components/ui/toaster";
-
-type Props = {
-  idOrKey: string | null;
-  onConfirm(idOrKey: string): Promise<void> | void;
-  onClose(): void;
-};
-
-export default function DeleteConfirm({ idOrKey, onConfirm, onClose }: Props) {
-  const [loading, setLoading] = useState(false);
-
-  const handleDelete = async () => {
-    if (!idOrKey) return;
-    setLoading(true);
-    try {
-      await onConfirm(idOrKey);
-      toaster.create({
-        type: "success",
-        title: "Deleted",
-        description: `Package size "${idOrKey}" removed.`,
-      });
-      onClose();
-    } catch (e: any) {
-      toaster.create({
-        type: "error",
-        title: "Failed to delete",
-        description: e?.response?.data?.message ?? e?.message,
-      });
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  return (
-    <Dialog.Root open={!!idOrKey} onOpenChange={(e) => !e.open && onClose()}>
-      <Dialog.Backdrop />
-      <Dialog.Positioner>
-        <Dialog.Content rounded="2xl" p="6" maxW="md">
-          <Stack gap="4">
-            <Dialog.CloseTrigger />
-            <Heading size="lg">Delete package size?</Heading>
-            <Text color="fg.muted">
-              This action cannot be undone. Are you sure you want to permanently delete{" "}
-              <Text as="span" fontWeight="semibold">
-                {idOrKey}
-              </Text>
-              ?
-            </Text>
-            <Flex justify="flex-end" gap="3" mt="2">
-              <Button variant="subtle" onClick={onClose}>
-                Cancel
-              </Button>
-              <Button colorPalette="red" loading={loading} onClick={handleDelete}>
-                Delete
-              </Button>
-            </Flex>
-          </Stack>
-        </Dialog.Content>
-      </Dialog.Positioner>
-    </Dialog.Root>
-  );
-}
diff --git a/frontend/src/pages/package-sizes/components/PackageSizeForm.tsx b/frontend/src/pages/package-sizes/components/PackageSizeForm.tsx
deleted file mode 100644
index 79724d6..0000000
--- a/frontend/src/pages/package-sizes/components/PackageSizeForm.tsx
+++ /dev/null
@@ -1,393 +0,0 @@
-import { useEffect, useMemo, useState } from "react";
-import {
-  Dialog,
-  Button,
-  Stack,
-  Grid,
-  GridItem,
-  Field,
-  Input,
-  Textarea,
-  Heading,
-  Kbd,
-  Switch,
-  NumberInput,
-} from "@chakra-ui/react";
-import type { PackageSize } from "@/types/package-sizes";
-import { toaster } from "@/components/ui/toaster";
-
-type Props = {
-  open: boolean;
-  initial?: Partial<PackageSize> | null;
-  onClose(): void;
-  onSubmit(values: Partial<PackageSize>): Promise<void> | void;
-};
-
-// Local form model to avoid TS errors when backend type lacks fields
-type FormValues = {
-  key: string;
-  name: string;
-  innerDimsCm: { l: number; w: number; h: number };
-  headroomPct: number; // 0..0.9
-  maxSkusPerBox: number;
-  maxWeightKg: number;
-  mixingAllowed: boolean;
-  tareWeightKg: number;
-  vented: boolean;
-  usableLiters?: number;
-  notes?: string;
-  active: boolean;
-  values?: Record<string, number>;
-};
-
-const defaults: FormValues = {
-  key: "",
-  name: "",
-  innerDimsCm: { l: 10, w: 10, h: 10 },
-  headroomPct: 0.1,
-  maxSkusPerBox: 1,
-  maxWeightKg: 1,
-  mixingAllowed: false,
-  tareWeightKg: 0,
-  vented: false,
-  usableLiters: undefined,
-  notes: "",
-  active: true,
-  values: undefined,
-};
-
-export default function PackageSizeForm({ open, initial, onClose, onSubmit }: Props) {
-  const start = useMemo<FormValues>(() => {
-    const base = { ...defaults };
-    if (!initial) return base;
-    return {
-      ...base,
-      ...(initial as any),
-      innerDimsCm: {
-        l: Number((initial as any)?.innerDimsCm?.l ?? base.innerDimsCm.l),
-        w: Number((initial as any)?.innerDimsCm?.w ?? base.innerDimsCm.w),
-        h: Number((initial as any)?.innerDimsCm?.h ?? base.innerDimsCm.h),
-      },
-      headroomPct:
-        typeof (initial as any)?.headroomPct === "number"
-          ? (initial as any).headroomPct
-          : base.headroomPct,
-      usableLiters:
-        (initial as any)?.usableLiters !== undefined
-          ? Number((initial as any).usableLiters)
-          : undefined,
-      active: (initial as any)?.active ?? true,
-    };
-  }, [initial]);
-
-  const [values, setValues] = useState<FormValues>(start);
-  const [loading, setLoading] = useState(false);
-  useEffect(() => setValues(start), [start, open]);
-
-  const set = (patch: Partial<FormValues>) => setValues((v) => ({ ...v, ...patch }));
-  const setDims = (patch: Partial<FormValues["innerDimsCm"]>) =>
-    setValues((v) => ({ ...v, innerDimsCm: { ...v.innerDimsCm, ...patch } }));
-
-  const handleSubmit = async () => {
-    if (!values.key?.trim() || !values.name?.trim()) {
-      toaster.create({ type: "warning", title: "Key and Name are required" });
-      return;
-    }
-        // Enforce backend enum at runtime to satisfy TS union on Partial<PackageSize>["key"]
-    const keyTrim = values.key.trim();
-    const allowedKeys = ["Small", "Medium", "Large"] as const;
-    if (!allowedKeys.includes(keyTrim as any)) {
-      toaster.create({
-        type: "warning",
-        title: "Invalid key",
-        description: 'Key must be one of: "Small", "Medium", or "Large".',
-      });
-      return;
-    }
-    setLoading(true);
-    try {
-      // Build payload as 'any' to bypass excess property checks against Partial<PackageSize>
-      const payload: any = {
-        key: values.key.trim(),
-        name: values.name.trim(),
-        innerDimsCm: values.innerDimsCm,
-        headroomPct: values.headroomPct,
-        maxSkusPerBox: values.maxSkusPerBox,
-        maxWeightKg: values.maxWeightKg,
-        tareWeightKg: values.tareWeightKg,
-        mixingAllowed: values.mixingAllowed,
-        vented: values.vented,
-        usableLiters:
-          values.usableLiters !== undefined && values.usableLiters !== null
-            ? Number(values.usableLiters)
-            : undefined,
-        notes: values.notes?.trim() || undefined,
-        active: values.active,
-        values: values.values,
-      };
-      console.log("hiii")
-      await onSubmit(payload as Partial<PackageSize>);
-      onClose();
-    } catch (e: any) {
-      toaster.create({
-        type: "error",
-        title: "Save failed",
-        description: e?.response?.data?.message ?? e?.message,
-      });
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  const title = (initial as any)?._id ? "Edit Package Size" : "New Package Size";
-
-  // Select (v3) expects a ListCollection + item prop
-
-  return (
-    <Dialog.Root open={open} onOpenChange={(e) => !e.open && onClose()}>
-      <Dialog.Backdrop />
-      <Dialog.Positioner>
-        <Dialog.Content rounded="2xl" p="6" w="full" maxW="3xl">
-          <Stack gap="4">
-            <Dialog.CloseTrigger />
-            <Heading size="lg">{title}</Heading>
-
-            <Grid templateColumns={{ base: "1fr", md: "repeat(3, 1fr)" }} gap="4">
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Key</Field.Label>
-                  <Input
-                    value={values.key}
-                    onChange={(e) => set({ key: e.target.value })}
-                    placeholder='e.g. "Small", "Medium", "Large"'
-                    autoFocus
-                  />
-                  <Field.HelperText>Must match allowed keys (Small / Medium / Large).</Field.HelperText>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Name</Field.Label>
-                  <Input
-                    value={values.name}
-                    onChange={(e) => set({ name: e.target.value })}
-                    placeholder="e.g. Small Bottle"
-                  />
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Length (cm)</Field.Label>
-                  <NumberInput.Root
-                    min={1}
-                    value={String(values.innerDimsCm.l)}
-                    onValueChange={(e) => setDims({ l: e.value === "" ? 1 : Number(e.value) })}
-                  >
-                    <NumberInput.Label srOnly>Length</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Width (cm)</Field.Label>
-                  <NumberInput.Root
-                    min={1}
-                    value={String(values.innerDimsCm.w)}
-                    onValueChange={(e) => setDims({ w: e.value === "" ? 1 : Number(e.value) })}
-                  >
-                    <NumberInput.Label srOnly>Width</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Height (cm)</Field.Label>
-                  <NumberInput.Root
-                    min={1}
-                    value={String(values.innerDimsCm.h)}
-                    onValueChange={(e) => setDims({ h: e.value === "" ? 1 : Number(e.value) })}
-                  >
-                    <NumberInput.Label srOnly>Height</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Headroom (%)</Field.Label>
-                  <NumberInput.Root
-                    min={0}
-                    max={90}
-                    value={String(Math.round(values.headroomPct * 100))}
-                    onValueChange={(e) =>
-                      set({ headroomPct: (e.value === "" ? 0 : Number(e.value)) / 100 })
-                    }
-                  >
-                    <NumberInput.Label srOnly>Headroom</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                  <Field.HelperText>Reserved headroom percentage (0–90%).</Field.HelperText>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Max SKUs per Box</Field.Label>
-                  <NumberInput.Root
-                    min={1}
-                    value={String(values.maxSkusPerBox)}
-                    onValueChange={(e) => set({ maxSkusPerBox: Number(e.value || 1) })}
-                  >
-                    <NumberInput.Label srOnly>Max SKUs</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Max Weight (kg)</Field.Label>
-                  <NumberInput.Root
-                    min={0.001}
-                    value={String(values.maxWeightKg)}
-                    onValueChange={(e) => set({ maxWeightKg: Number(e.value || 0.001) })}
-                  >
-                    <NumberInput.Label srOnly>Max Weight</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root required>
-                  <Field.Label>Tare Weight (kg)</Field.Label>
-                  <NumberInput.Root
-                    min={0}
-                    value={String(values.tareWeightKg)}
-                    onValueChange={(e) => set({ tareWeightKg: Number(e.value || 0) })}
-                  >
-                    <NumberInput.Label srOnly>Tare Weight</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root>
-                  <Field.Label>Mixing Allowed</Field.Label>
-                  <Switch.Root
-                    checked={!!values.mixingAllowed}
-                    onCheckedChange={(e) => set({ mixingAllowed: !!e.checked })}
-                  >
-                    <Switch.HiddenInput />
-                    <Switch.Control />
-                  </Switch.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem>
-                <Field.Root>
-                  <Field.Label>Vented</Field.Label>
-                  <Switch.Root
-                    checked={!!values.vented}
-                    onCheckedChange={(e) => set({ vented: !!e.checked })}
-                  >
-                    <Switch.HiddenInput />
-                    <Switch.Control />
-                  </Switch.Root>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem colSpan={{ base: 1, md: 3 }}>
-                <Field.Root>
-                  <Field.Label>Usable Liters</Field.Label>
-                  <NumberInput.Root
-                    value={values.usableLiters === undefined ? "" : String(values.usableLiters)}
-                    onValueChange={(e) =>
-                      set({
-                        usableLiters: e.value === "" ? undefined : Number(e.value),
-                      })
-                    }
-                    step={0.1}
-                  >
-                    <NumberInput.Label srOnly>Usable Liters</NumberInput.Label>
-                    <NumberInput.Control>
-                      <NumberInput.IncrementTrigger />
-                      <NumberInput.DecrementTrigger />
-                    </NumberInput.Control>
-                    <NumberInput.Scrubber />
-                    <NumberInput.Input />
-                  </NumberInput.Root>
-                  <Field.HelperText>Backend recalculates on save; optional override.</Field.HelperText>
-                </Field.Root>
-              </GridItem>
-
-              <GridItem colSpan={{ base: 1, md: 3 }}>
-                <Field.Root>
-                  <Field.Label>Notes</Field.Label>
-                  <Textarea
-                    value={values.notes ?? ""}
-                    onChange={(e) => set({ notes: e.target.value })}
-                    placeholder="Optional notes…"
-                    rows={3}
-                  />
-                </Field.Root>
-              </GridItem>
-            </Grid>
-
-            <Stack direction="row" justify="flex-end" gap="3" mt="2">
-              <Button variant="subtle" onClick={onClose}>
-                Cancel <Kbd ml="2">Esc</Kbd>
-              </Button>
-              <Button colorPalette="teal" loading={loading} onClick={handleSubmit}>
-                Save
-              </Button>
-            </Stack>
-          </Stack>
-        </Dialog.Content>
-      </Dialog.Positioner>
-    </Dialog.Root>
-  );
-}
diff --git a/frontend/src/pages/package-sizes/components/PackageSizeTable.tsx b/frontend/src/pages/package-sizes/components/PackageSizeTable.tsx
deleted file mode 100644
index 83242a5..0000000
--- a/frontend/src/pages/package-sizes/components/PackageSizeTable.tsx
+++ /dev/null
@@ -1,97 +0,0 @@
-import { useMemo } from "react";
-import { Table, Badge, Box, HStack, Text, Icon } from "@chakra-ui/react";
-import { StyledButton } from "@/components/ui/Button";
-import { FiEdit2, FiTrash2 } from "react-icons/fi";
-import type { PackageSize } from "@/types/package-sizes";
-import { Tooltip } from "@/components/ui/tooltip";
-
-type Props = {
-  items: PackageSize[];
-  onDelete(item: PackageSize): void;
-  onView(item: PackageSize): void; // opens modal (edit form)
-  sort?: string;
-  onSort?(sort: string): void;
-};
-
-const headers = [
-  { key: "key", label: "Key", sortable: true },
-  { key: "name", label: "Name", sortable: true },
-  { key: "usableLiters", label: "Usable Liters", sortable: true },
-  { key: "actions", label: "", sortable: false },
-] as const;
-
-export default function PackageSizeTable({ items, onDelete, onView, sort, onSort }: Props) {
-  const sortKey = useMemo(() => (sort?.startsWith("-") ? sort.slice(1) : sort ?? "key"), [sort]);
-  const sortDir = useMemo<"asc" | "desc">(() => (sort?.startsWith("-") ? "desc" : "asc"), [sort]);
-
-  const toggleSort = (key: string) => {
-    if (!onSort) return;
-    if (sortKey !== key) onSort(key);
-    else onSort(sortDir === "asc" ? `-${key}` : key);
-  };
-
-  return (
-    <Box overflow="auto" rounded="xl" borderWidth="1px">
-      <Table.Root size="md" striped interactive>
-        <Table.Header>
-          <Table.Row>
-            {headers.map((h) => (
-              <Table.ColumnHeader
-                key={h.key}
-                onClick={h.sortable ? () => toggleSort(h.key) : undefined}
-                cursor={h.sortable ? "pointer" : "default"}
-                userSelect={h.sortable ? "none" : "auto"}
-              >
-                <HStack gap="2">
-                  <Text>{h.label}</Text>
-                  {h.sortable && sortKey === h.key && (
-                    <Badge colorPalette="gray" variant="surface">
-                      {sortDir === "asc" ? "↑" : "↓"}
-                    </Badge>
-                  )}
-                </HStack>
-              </Table.ColumnHeader>
-            ))}
-          </Table.Row>
-        </Table.Header>
-
-        <Table.Body>
-          {items.map((item) => {
-            const id = item._id ?? item.key!;
-            return (
-              <Table.Row key={id}>
-                <Table.Cell fontWeight="medium">{item.key}</Table.Cell>
-                <Table.Cell>{item.name}</Table.Cell>
-                <Table.Cell>{item.usableLiters ?? "-"}</Table.Cell>
-                <Table.Cell>
-                  <HStack justify="flex-end" gap="1.5">
-                    <Tooltip content="Edit">
-                      <StyledButton aria-label="Edit" onClick={() => onView(item)}>
-                        <Icon as={FiEdit2} />
-                      </StyledButton>
-                    </Tooltip>
-                    <Tooltip content="Delete">
-                      <StyledButton
-                        aria-label="Delete"
-                        colorPalette="red"
-                        onClick={() => onDelete(item)}
-                      >
-                        <Icon as={FiTrash2} />
-                      </StyledButton>
-                    </Tooltip>
-                  </HStack>
-                </Table.Cell>
-              </Table.Row>
-            );
-          })}
-        </Table.Body>
-      </Table.Root>
-
-      {items.length === 0 && (
-        <Box p="8" textAlign="center" color="fg.muted">
-          No package sizes found.
-        </Box>
-      )}
-    </Box>
-  );
-}
diff --git a/frontend/src/pages/package-sizes/components/PackageSizeViewModal.tsx b/frontend/src/pages/package-sizes/components/PackageSizeViewModal.tsx
deleted file mode 100644
index d9696b8..0000000
--- a/frontend/src/pages/package-sizes/components/PackageSizeViewModal.tsx
+++ /dev/null
@@ -1,474 +0,0 @@
-import { useEffect, useMemo, useRef, useState } from "react";
-import {
-  Dialog,
-  Flex,
-  Heading,
-  Text,
-  Button,
-  Stack,
-  Grid,
-  GridItem,
-  Field,
-  Input,
-  Switch,
-  Separator,
-  Card,
-  Kbd,
-  NumberInput,
-} from "@chakra-ui/react";
-import type { PackageSize } from "@/types/package-sizes";
-import { FiBox } from "react-icons/fi";
-
-type Props = {
-  item: PackageSize | null;
-  onClose(): void;
-  onSave(idOrKey: string, patch: Partial<PackageSize>): Promise<void> | void;
-};
-
-type FormValues = {
-  key: string;
-  name: string;
-  innerDimsCm: { l: number; w: number; h: number };
-  headroomPct: number;
-  mixingAllowed: boolean;
-  vented: boolean;
-  maxSkusPerBox: number;
-  maxWeightKg: number;
-  tareWeightKg: number;
-  usableLiters?: number;
-  notes?: string;
-  values?: Record<string, number>;
-};
-
-// lightweight volume calc parity with backend rounding
-function calcUsableLitersLocal(d: { l: number; w: number; h: number }, headroomPct: number) {
-  const liters = (d.l * d.w * d.h * (1 - headroomPct)) / 1000;
-  return Number(liters.toFixed(1));
-}
-
-export default function PackageSizeViewModal({ item, onClose, onSave }: Props) {
-  const open = !!item;
-
-  const start = useMemo<FormValues>(() => {
-    if (!item) {
-      return {
-        key: "",
-        name: "",
-        innerDimsCm: { l: 1, w: 1, h: 1 },
-        headroomPct: 0,
-        mixingAllowed: false,
-        vented: false,
-        maxSkusPerBox: 1,
-        maxWeightKg: 1,
-        tareWeightKg: 0,
-        usableLiters: undefined,
-        notes: "",
-        values: undefined,
-      };
-    }
-    return {
-      key: (item as any).key ?? "",
-      name: (item as any).name ?? "",
-      innerDimsCm: {
-        l: Number((item as any)?.innerDimsCm?.l ?? 1),
-        w: Number((item as any)?.innerDimsCm?.w ?? 1),
-        h: Number((item as any)?.innerDimsCm?.h ?? 1),
-      },
-      headroomPct: Number((item as any)?.headroomPct ?? 0),
-      mixingAllowed: !!(item as any)?.mixingAllowed,
-      vented: !!(item as any)?.vented,
-      maxSkusPerBox: Number((item as any)?.maxSkusPerBox ?? 1),
-      maxWeightKg: Number((item as any)?.maxWeightKg ?? 1),
-      tareWeightKg: Number((item as any)?.tareWeightKg ?? 0),
-      usableLiters:
-        (item as any)?.usableLiters !== undefined ? Number((item as any).usableLiters) : undefined,
-      notes: (item as any)?.notes ?? "",
-      values: (item as any)?.values ?? undefined,
-    };
-  }, [item]);
-
-  const [values, setValues] = useState<FormValues>(start);
-  useEffect(() => setValues(start), [start, open]);
-
-  const set = (patch: Partial<FormValues>) => setValues((v) => ({ ...v, ...patch }));
-  const setDims = (patch: Partial<FormValues["innerDimsCm"]>) =>
-    setValues((v) => ({ ...v, innerDimsCm: { ...v.innerDimsCm, ...patch } }));
-
-  const idOrKey = (item?._id as any) ?? item?.key;
-
-  const computedUsable = useMemo(() => {
-    const d = (values.innerDimsCm ?? { l: 0, w: 0, h: 0 }) as { l: number; w: number; h: number };
-    if (
-      typeof d.l === "number" &&
-      typeof d.w === "number" &&
-      typeof d.h === "number" &&
-      typeof values.headroomPct === "number"
-    ) {
-      return calcUsableLitersLocal(d, values.headroomPct);
-    }
-    return undefined;
-  }, [values]);
-
-  // SVG refs to focus inputs on side click
-  const lRef = useRef<HTMLInputElement>(null);
-  const wRef = useRef<HTMLInputElement>(null);
-  const hRef = useRef<HTMLInputElement>(null);
-
-  const save = async () => {
-    if (!idOrKey) return;
-    // Enforce enum for key to satisfy Partial<PackageSize> typing
-    const keyTrim = (values.key ?? "").trim();
-    const allowedKeys = ["Small", "Medium", "Large"] as const;
-    if (!allowedKeys.includes(keyTrim as any)) {
-      return;
-    }
-    const patch: Partial<PackageSize> = {
-      key: keyTrim as (typeof allowedKeys)[number], // "Small" | "Medium" | "Large"
-      name: values.name,
-      innerDimsCm: values.innerDimsCm as any,
-      headroomPct: values.headroomPct as any,
-      mixingAllowed: values.mixingAllowed as any,
-      vented: values.vented as any,
-      maxSkusPerBox: values.maxSkusPerBox as any,
-      maxWeightKg: values.maxWeightKg as any,
-      tareWeightKg: values.tareWeightKg as any,
-      ...(values.usableLiters !== undefined ? { usableLiters: Number(values.usableLiters) as any } : {}),
-      notes: values.notes,
-    };
-    await onSave(String(idOrKey), patch);
-  };
-
-  // normalize to draw proportions
-  const dims = (values.innerDimsCm ?? { l: 1, w: 1, h: 1 }) as { l: number; w: number; h: number };
-  const maxDim = Math.max(dims.l || 1, dims.w || 1, dims.h || 1);
-  const scale = 160 / maxDim; // keep within card size
-
-  return (
-    <Dialog.Root open={open} onOpenChange={(e) => !e.open && onClose()}>
-      <Dialog.Backdrop />
-      <Dialog.Positioner>
-        <Dialog.Content rounded="2xl" p="6" maxW="5xl" w="full">
-          <Stack gap="4">
-            <Dialog.CloseTrigger />
-            <Flex align="center" justify="space-between">
-              <Heading size="lg">Package Details</Heading>
-            </Flex>
-
-            <Grid templateColumns={{ base: "1fr", lg: "1.2fr 1fr" }} gap="6">
-              <GridItem>
-                <Card.Root rounded="xl" borderWidth="1px" p="4">
-                  <Flex align="center" gap="3" mb="3">
-                    <FiBox />
-                    <Heading size="sm">Interactive Dimensions</Heading>
-                  </Flex>
-
-                  {/* SVG: top view (L x W) and side view (H) with clickable edges */}
-                  <Flex gap="6" wrap="wrap" align="center" justify="center">
-                    <svg width="220" height="220" viewBox="0 0 220 220" aria-label="Top view">
-                      {/* Top rectangle (L x W) */}
-                      <rect
-                        x="30"
-                        y="30"
-                        width={(dims.l || 1) * scale}
-                        height={(dims.w || 1) * scale}
-                        fill="transparent"
-                        stroke="currentColor"
-                        strokeWidth="2"
-                        rx="12"
-                      />
-                      {/* Clickable length edge (top) */}
-                      <rect
-                        x="30"
-                        y="22"
-                        width={(dims.l || 1) * scale}
-                        height="6"
-                        fill="currentColor"
-                        opacity="0.08"
-                        style={{ cursor: "pointer" }}
-                        onClick={() => lRef.current?.focus()}
-                      />
-                      <text x={30 + ((dims.l || 1) * scale) / 2} y="18" fontSize="10" textAnchor="middle">
-                        Length (L)
-                      </text>
-                      {/* Clickable width edge (left) */}
-                      <rect
-                        x="22"
-                        y="30"
-                        width="6"
-                        height={(dims.w || 1) * scale}
-                        fill="currentColor"
-                        opacity="0.08"
-                        style={{ cursor: "pointer" }}
-                        onClick={() => wRef.current?.focus()}
-                      />
-                      <text
-                        x="12"
-                        y={30 + ((dims.w || 1) * scale) / 2}
-                        fontSize="10"
-                        textAnchor="middle"
-                        transform={`rotate(-90, 12, ${30 + ((dims.w || 1) * scale) / 2})`}
-                      >
-                        Width (W)
-                      </text>
-                    </svg>
-
-                    <svg width="220" height="220" viewBox="0 0 220 220" aria-label="Side view">
-                      {/* Side rectangle (H x L) */}
-                      <rect
-                        x="30"
-                        y={30 + 160 - (dims.h || 1) * scale}
-                        width={(dims.l || 1) * scale}
-                        height={(dims.h || 1) * scale}
-                        fill="transparent"
-                        stroke="currentColor"
-                        strokeWidth="2"
-                        rx="12"
-                      />
-                      {/* Clickable height edge (right) */}
-                      <rect
-                        x={30 + (dims.l || 1) * scale + 2}
-                        y={30 + 160 - (dims.h || 1) * scale}
-                        width="6"
-                        height={(dims.h || 1) * scale}
-                        fill="currentColor"
-                        opacity="0.08"
-                        style={{ cursor: "pointer" }}
-                        onClick={() => hRef.current?.focus()}
-                      />
-                      <text
-                        x={30 + (dims.l || 1) * scale + 18}
-                        y={30 + 160 - (dims.h || 1) * scale + ((dims.h || 1) * scale) / 2}
-                        fontSize="10"
-                        textAnchor="middle"
-                        transform={`rotate(-90, ${30 + (dims.l || 1) * scale + 18}, ${
-                          30 + 160 - (dims.h || 1) * scale + ((dims.h || 1) * scale) / 2
-                        })`}
-                      >
-                        Height (H)
-                      </text>
-                    </svg>
-                  </Flex>
-
-                  <Separator my="4" />
-
-                  <Grid templateColumns={{ base: "1fr", md: "repeat(3, 1fr)" }} gap="4">
-                    <GridItem>
-                      <Field.Root>
-                        <Field.Label>Length (cm)</Field.Label>
-                        <NumberInput.Root
-                          min={1}
-                          value={String(values.innerDimsCm.l)}
-                          onValueChange={(e) => setDims({ l: e.value === "" ? 1 : Number(e.value) })}
-                        >
-                          <NumberInput.Control>
-                            <NumberInput.IncrementTrigger />
-                            <NumberInput.DecrementTrigger />
-                          </NumberInput.Control>
-                          <NumberInput.Scrubber />
-                          <NumberInput.Input ref={lRef as any} />
-                        </NumberInput.Root>
-                      </Field.Root>
-                    </GridItem>
-                    <GridItem>
-                      <Field.Root>
-                        <Field.Label>Width (cm)</Field.Label>
-                        <NumberInput.Root
-                          min={1}
-                          value={String(values.innerDimsCm.w)}
-                          onValueChange={(e) => setDims({ w: e.value === "" ? 1 : Number(e.value) })}
-                        >
-                          <NumberInput.Control>
-                            <NumberInput.IncrementTrigger />
-                            <NumberInput.DecrementTrigger />
-                          </NumberInput.Control>
-                          <NumberInput.Scrubber />
-                          <NumberInput.Input ref={wRef as any} />
-                        </NumberInput.Root>
-                      </Field.Root>
-                    </GridItem>
-                    <GridItem>
-                      <Field.Root>
-                        <Field.Label>Height (cm)</Field.Label>
-                        <NumberInput.Root
-                          min={1}
-                          value={String(values.innerDimsCm.h)}
-                          onValueChange={(e) => setDims({ h: e.value === "" ? 1 : Number(e.value) })}
-                        >
-                          <NumberInput.Control>
-                            <NumberInput.IncrementTrigger />
-                            <NumberInput.DecrementTrigger />
-                          </NumberInput.Control>
-                          <NumberInput.Scrubber />
-                          <NumberInput.Input ref={hRef as any} />
-                        </NumberInput.Root>
-                      </Field.Root>
-                    </GridItem>
-                  </Grid>
-
-                  <Grid templateColumns={{ base: "1fr", md: "repeat(3, 1fr)" }} gap="4" mt="3">
-                    <GridItem>
-                      <Field.Root>
-                        <Field.Label>Headroom (%)</Field.Label>
-                        <NumberInput.Root
-                          min={0}
-                          max={90}
-                          value={String(Math.round((values.headroomPct ?? 0) * 100))}
-                          onValueChange={(e) =>
-                            set({ headroomPct: (e.value === "" ? 0 : Number(e.value)) / 100 })
-                          }
-                        >
-                          <NumberInput.Control>
-                            <NumberInput.IncrementTrigger />
-                            <NumberInput.DecrementTrigger />
-                          </NumberInput.Control>
-                          <NumberInput.Scrubber />
-                          <NumberInput.Input />
-                        </NumberInput.Root>
-                      </Field.Root>
-                    </GridItem>
-                    <GridItem>
-                      <Field.Root>
-                        <Field.Label>Usable Liters (computed)</Field.Label>
-                        <Input value={computedUsable ?? ""} readOnly />
-                      </Field.Root>
-                    </GridItem>
-                    <GridItem>
-                      <Field.Root>
-                        <Field.Label>Override Usable Liters</Field.Label>
-                        <NumberInput.Root
-                          value={values.usableLiters === undefined ? "" : String(values.usableLiters)}
-                          onValueChange={(e) =>
-                            set({
-                              usableLiters: e.value === "" ? undefined : Number(e.value),
-                            })
-                          }
-                          step={0.1}
-                        >
-                          <NumberInput.Control>
-                            <NumberInput.IncrementTrigger />
-                            <NumberInput.DecrementTrigger />
-                          </NumberInput.Control>
-                          <NumberInput.Scrubber />
-                          <NumberInput.Input />
-                        </NumberInput.Root>
-                      </Field.Root>
-                    </GridItem>
-                  </Grid>
-                </Card.Root>
-              </GridItem>
-
-              <GridItem>
-                <Card.Root rounded="xl" borderWidth="1px" p="4">
-                  <Heading size="sm" mb="3">
-                    Meta & Controls
-                  </Heading>
-
-                  <Grid templateColumns={{ base: "1fr" }} gap="4">
-                    <Field.Root>
-                      <Field.Label>Key</Field.Label>
-                      <Input value={values.key ?? ""} onChange={(e) => set({ key: e.target.value })} />
-                      <Text color="fg.muted" fontSize="xs" mt="1">
-                        Must be one of: Small, Medium, Large
-                      </Text>
-                    </Field.Root>
-
-                    <Field.Root>
-                      <Field.Label>Name</Field.Label>
-                      <Input value={values.name ?? ""} onChange={(e) => set({ name: e.target.value })} />
-                    </Field.Root>
-
-                    <Field.Root>
-                      <Field.Label>Max SKUs per Box</Field.Label>
-                      <NumberInput.Root
-                        min={1}
-                        value={String(values.maxSkusPerBox)}
-                        onValueChange={(e) => set({ maxSkusPerBox: Number(e.value || 1) })}
-                      >
-                        <NumberInput.Control>
-                          <NumberInput.IncrementTrigger />
-                          <NumberInput.DecrementTrigger />
-                        </NumberInput.Control>
-                        <NumberInput.Scrubber />
-                        <NumberInput.Input />
-                      </NumberInput.Root>
-                    </Field.Root>
-
-                    <Field.Root>
-                      <Field.Label>Max Weight (kg)</Field.Label>
-                      <NumberInput.Root
-                        min={0.001}
-                        value={String(values.maxWeightKg)}
-                        onValueChange={(e) => set({ maxWeightKg: Number(e.value || 0.001) })}
-                      >
-                        <NumberInput.Control>
-                          <NumberInput.IncrementTrigger />
-                          <NumberInput.DecrementTrigger />
-                        </NumberInput.Control>
-                        <NumberInput.Scrubber />
-                        <NumberInput.Input />
-                      </NumberInput.Root>
-                    </Field.Root>
-
-                    <Field.Root>
-                      <Field.Label>Tare Weight (kg)</Field.Label>
-                      <NumberInput.Root
-                        min={0}
-                        value={String(values.tareWeightKg)}
-                        onValueChange={(e) => set({ tareWeightKg: Number(e.value || 0) })}
-                      >
-                        <NumberInput.Control>
-                          <NumberInput.IncrementTrigger />
-                          <NumberInput.DecrementTrigger />
-                        </NumberInput.Control>
-                        <NumberInput.Scrubber />
-                        <NumberInput.Input />
-                      </NumberInput.Root>
-                    </Field.Root>
-
-                    <Field.Root>
-                      <Field.Label>Mixing Allowed</Field.Label>
-                      <Switch.Root
-                        checked={!!values.mixingAllowed}
-                        onCheckedChange={(e) => set({ mixingAllowed: !!e.checked })}
-                      >
-                        <Switch.HiddenInput />
-                        <Switch.Control />
-                      </Switch.Root>
-                    </Field.Root>
-
-                    <Field.Root>
-                      <Field.Label>Vented</Field.Label>
-                      <Switch.Root
-                        checked={!!values.vented}
-                        onCheckedChange={(e) => set({ vented: !!e.checked })}
-                      >
-                        <Switch.HiddenInput />
-                        <Switch.Control />
-                      </Switch.Root>
-                    </Field.Root>
-                  </Grid>
-
-                  <Separator my="4" />
-
-                  <Flex justify="space-between" align="center">
-                    <Text color="fg.muted" fontSize="sm">
-                      Tip: Click the rectangle edges to focus dimension inputs. <Kbd ml="1">Enter</Kbd> to save.
-                    </Text>
-                    <Stack direction="row" gap="3">
-                      <Button variant="subtle" onClick={onClose}>
-                        Close
-                      </Button>
-                      <Button colorPalette="teal" onClick={save}>
-                        Save Changes
-                      </Button>
-                    </Stack>
-                  </Flex>
-                </Card.Root>
-              </GridItem>
-            </Grid>
-          </Stack>
-        </Dialog.Content>
-      </Dialog.Positioner>
-    </Dialog.Root>
-  );
-}
diff --git a/frontend/src/pages/package-sizes/components/PackageSizesPage.tsx b/frontend/src/pages/package-sizes/components/PackageSizesPage.tsx
deleted file mode 100644
index e69de29..0000000
diff --git a/frontend/src/pages/package-sizes/index.tsx b/frontend/src/pages/package-sizes/index.tsx
deleted file mode 100644
index 9dc8fa5..0000000
--- a/frontend/src/pages/package-sizes/index.tsx
+++ /dev/null
@@ -1,199 +0,0 @@
-import { useEffect, useMemo, useState } from "react";
-import {
-  Box,
-  Card,
-  CardHeader,
-  CardBody,
-  Flex,
-  Heading,
-  HStack,
-  Text,
-  Icon,
-  Separator,
-  Spinner,
-} from "@chakra-ui/react";
-import { Tooltip } from "@/components/ui/tooltip";
-import { StyledIconButton } from "@/components/ui/IconButton";
-import { FiPlus, FiRefreshCcw, FiArrowLeft, FiArrowRight } from "react-icons/fi";
-import PackageSizeTable from "./components/PackageSizeTable";
-import PackageSizeForm from "./components/PackageSizeForm";
-import DeleteConfirm from "./components/DeleteConfirm";
-import PackageSizeViewModal from "./components/PackageSizeViewModal";
-import {
-  listPackageSizes,
-  createPackageSize,
-  updatePackageSize,
-  deletePackageSize,
-} from "@/api/packageSizes";
-import type { PackageSize } from "@/types/package-sizes";
-import { toaster } from "@/components/ui/toaster";
-
-type Pager = { page: number; limit: number; total: number };
-
-export default function PackageSizesPage() {
-  const [items, setItems] = useState<PackageSize[]>([]);
-  const [pager, setPager] = useState<Pager>({ page: 1, limit: 10, total: 0 });
-  const [sort, setSort] = useState<string>("key");
-  const [loading, setLoading] = useState(false);
-  const [formOpen, setFormOpen] = useState(false);
-  const [editing, setEditing] = useState<PackageSize | null>(null);
-  const [toDelete, setToDelete] = useState<string | null>(null);
-  const [viewItem, setViewItem] = useState<PackageSize | null>(null);
-
-  const fetchData = async (args?: Partial<{ page: number; limit: number; sort: string }>) => {
-    setLoading(true);
-    try {
-      const res = await listPackageSizes({
-        page: args?.page ?? pager.page,
-        limit: args?.limit ?? pager.limit,
-        sort: args?.sort ?? sort,
-      });
-      setItems(res.items);
-      setPager({ page: res.page, limit: res.limit, total: res.total });
-    } catch (e: any) {
-      toaster.create({
-        type: "error",
-        title: "Failed to load",
-        description: e?.response?.data?.message ?? e?.message,
-      });
-    } finally {
-      setLoading(false);
-    }
-  };
-
-  useEffect(() => {
-    fetchData({ page: 1 });
-    // eslint-disable-next-line react-hooks/exhaustive-deps
-  }, [sort]);
-
-  const totalPages = useMemo(
-    () => Math.max(1, Math.ceil(pager.total / pager.limit)),
-    [pager.total, pager.limit]
-  );
-
-  const openCreate = () => {
-    setEditing(null);
-    setFormOpen(true);
-  };
-
-  const onSubmit = async (values: Partial<PackageSize>) => {
-    if (editing?._id || editing?.key) {
-      const id = editing._id ?? editing.key!;
-      const updated = await updatePackageSize(id, values);
-      setItems((prev) =>
-        prev.map((it) => (it._id === updated._id || it.key === updated.key ? updated : it))
-      );
-      toaster.create({ type: "success", title: "Updated", description: updated.name });
-    } else {
-      const created = await createPackageSize(values);
-      toaster.create({ type: "success", title: "Created", description: created.name });
-      fetchData({ page: 1 });
-    }
-  };
-
-  const onDelete = async (idOrKey: string) => {
-    await deletePackageSize(idOrKey);
-    const nextPage = items.length === 1 && pager.page > 1 ? pager.page - 1 : pager.page;
-    await fetchData({ page: nextPage });
-  };
-
-  return (
-    <Box p={{ base: 4, md: 6 }}>
-      <Card.Root rounded="2xl" shadow="md" borderWidth="1px">
-        <CardHeader borderBottomWidth="1px" >
-          <Flex align="center" justify="space-between" wrap="wrap" gap="3">
-            <Heading size="lg">Package Sizes</Heading>
-            <HStack>
-              <Tooltip content="Reload">
-                <StyledIconButton aria-label="Reload" variant="ghost" onClick={() => fetchData()}>
-                  <Icon as={FiRefreshCcw} />
-                </StyledIconButton>
-              </Tooltip>
-              <StyledIconButton onClick={openCreate} colorPalette="teal">
-                <Icon as={FiPlus} /> New
-              </StyledIconButton>
-            </HStack>
-          </Flex>
-        </CardHeader>
-
-        <CardBody>
-          <PackageSizeTable
-            items={items}
-            onDelete={(it) => setToDelete(it._id ?? it.key)}
-            onView={(it) => setViewItem(it)} // "Edit" opens the modal form
-            sort={sort}
-            onSort={setSort}
-          />
-
-          <Flex mt="4" justify="space-between" align="center" wrap="wrap" gap="2">
-            <Text color="fg.muted" fontSize="sm">
-              Showing {items.length ? (pager.page - 1) * pager.limit + 1 : 0}–{" "}
-              {(pager.page - 1) * pager.limit + items.length} of {pager.total}
-            </Text>
-            <HStack>
-              <Tooltip content="Previous">
-                <StyledIconButton
-                  aria-label="Previous"
-                  disabled={pager.page <= 1 || loading}
-                  onClick={() => fetchData({ page: Math.max(1, pager.page - 1) })}
-                >
-                  <Icon as={FiArrowLeft} />
-                </StyledIconButton>
-              </Tooltip>
-              <Text fontWeight="medium">
-                {loading && <Spinner size="xs" mr="2" />} Page {pager.page} / {totalPages}
-              </Text>
-              <Tooltip content="Next">
-                <StyledIconButton
-                  aria-label="Next"
-                  disabled={pager.page >= totalPages || loading}
-                  onClick={() => fetchData({ page: Math.min(totalPages, pager.page + 1) })}
-                >
-                  <Icon as={FiArrowRight} />
-                </StyledIconButton>
-              </Tooltip>
-            </HStack>
-          </Flex>
-        </CardBody>
-      </Card.Root>
-
-      {/* Create form */}
-      <PackageSizeForm
-        open={formOpen}
-        initial={editing ?? undefined}
-        onClose={() => setFormOpen(false)}
-        onSubmit={onSubmit}
-      />
-
-      {/* Edit/View modal with interactive shape */}
-      <PackageSizeViewModal
-        item={viewItem}
-        onClose={() => setViewItem(null)}
-        onSave={async (idOrKey, patch) => {
-          try {
-            const updated = await updatePackageSize(idOrKey, patch);
-            setItems((prev) =>
-              prev.map((it) =>
-                (it._id ?? it.key) === (updated._id ?? updated.key) ? updated : it
-              )
-            );
-            toaster.create({
-              type: "success",
-              title: "Saved changes",
-              description: updated.name,
-            });
-            setViewItem(updated);
-          } catch (e: any) {
-            toaster.create({
-              type: "error",
-              title: "Update failed",
-              description: e?.response?.data?.message ?? e?.message ?? "Unknown error",
-            });
-          }
-        }}
-      />
-
-      <DeleteConfirm idOrKey={toDelete} onConfirm={onDelete} onClose={() => setToDelete(null)} />
-    </Box>
-  );
-}
diff --git a/frontend/src/pages/profile.tsx b/frontend/src/pages/profile.tsx
deleted file mode 100644
index 77ba51a..0000000
--- a/frontend/src/pages/profile.tsx
+++ /dev/null
@@ -1,708 +0,0 @@
-// src/pages/profile.tsx
-import { useEffect, useMemo, useRef, useState } from "react";
-import {
-  Badge,
-  Box,
-  Button,
-  Card,
-  Container,
-  Grid,
-  HStack,
-  Heading,
-  Input,
-  Separator,
-  Spinner,
-  Stack,
-  Text,
-  Textarea,
-} from "@chakra-ui/react";
-import { Plus, MapPin, Trash2, UserPlus } from "lucide-react";
-import AuthGuard from "@/guards/AuthGuard";
-import MapPickerDialog from "@/components/common/MapPickerDialog";
-
-import {
-  getUserContact,
-  updateUserContact,
-  getUserAddresses,
-  createUserAddress,
-  deleteUserAddress,
-} from "@/api/user";
-
-import type { Address } from "@/types/address";
-import type { Contact } from "@/api/user";
-
-const MPD: any = MapPickerDialog;
-
-/* ========== Community types ========== */
-type CommunityNode = {
-  id: string;
-  name: string;
-  email: string;
-  children?: CommunityNode[];
-};
-
-export default function Profile() {
-  return (
-    <AuthGuard>
-      <Container maxW="6xl" py={8}>
-        <HeaderBar />
-        <ProfileContent />
-      </Container>
-    </AuthGuard>
-  );
-}
-
-/* ---------- header ---------- */
-function HeaderBar() {
-  return (
-    <Card.Root
-      variant="outline"
-      borderColor="teal.300"
-      shadow="sm"
-      bgGradient="linear(to-r, teal.50, green.50)"
-      mb={8}
-    >
-      <Card.Body py={4} px={5}>
-        <HStack justify="space-between" align="center">
-          <Heading size="md" color="teal.900" letterSpacing="tight">
-            Profile
-          </Heading>
-          <Text fontSize="sm" color="teal.800">
-            Contact, photo, addresses, and community
-          </Text>
-        </HStack>
-      </Card.Body>
-    </Card.Root>
-  );
-}
-
-/* ---------- small bits ---------- */
-const Label = ({ children }: { children: React.ReactNode }) => (
-  <Text
-    fontSize="xs"
-    color="gray.500"
-    textTransform="uppercase"
-    letterSpacing="widest"
-    mb={1}
-  >
-    {children}
-  </Text>
-);
-
-const Meta = ({ children }: { children: React.ReactNode }) => (
-  <Text fontSize="xs" color="gray.600">
-    {children}
-  </Text>
-);
-
-const AvatarBox = ({ url, text }: { url?: string; text: string }) => (
-  <Box
-    w="76px"
-    h="76px"
-    rounded="full"
-    bg="teal.100"
-    bgImage={url ? `url(${url})` : undefined}
-    bgSize="cover"
-    bgPos="center"
-    display="grid"
-    placeItems="center"
-    fontWeight="bold"
-    color="teal.900"
-    shadow="md"
-    border="2px solid"
-    borderColor="whiteAlpha.700"
-  >
-    {!url ? text : null}
-  </Box>
-);
-
-/* ---------- page ---------- */
-function ProfileContent() {
-  const [loadingPage, setLoadingPage] = useState(true);
-
-  const [contact, setContact] = useState<Contact>({ email: "", phone: "" });
-  const originalRef = useRef<Contact>({ email: "", phone: "" });
-
-  const [avatarUrl, setAvatarUrl] = useState<string | undefined>();
-  const fileRef = useRef<HTMLInputElement>(null);
-
-  const [savingContact, setSavingContact] = useState(false);
-  const [emailError, setEmailError] = useState<string | null>(null);
-
-  const [addresses, setAddresses] = useState<Address[]>([]);
-  const [addrPickerOpen, setAddrPickerOpen] = useState(false);
-  const [banner, setBanner] = useState<string | null>(null);
-  const [deletingKey, setDeletingKey] = useState<string | null>(null);
-
-  // demo stats
-  const [targets] = useState(() => ({
-    farmers: Math.floor(Math.random() * 8) + 3,
-    orders: Math.floor(Math.random() * 40) + 10,
-    points: Math.floor(Math.random() * 900) + 100,
-  }));
-  const [stats, setStats] = useState({ farmers: 0, orders: 0, points: 0 });
-
-  // community mock tree (root = current user)
-  const [community, setCommunity] = useState<CommunityNode>({
-    id: "me",
-    name: "You",
-    email: "",
-    children: [
-      {
-        id: "c1",
-        name: "Dana",
-        email: "dana@example.com",
-        children: [
-          { id: "c1-1", name: "Sam", email: "sam@example.com" },
-          { id: "c1-2", name: "Noa", email: "noa@example.com" },
-        ],
-      },
-      {
-        id: "c2",
-        name: "Omar",
-        email: "omar@example.com",
-        children: [{ id: "c2-1", name: "Lee", email: "lee@example.com" }],
-      },
-    ],
-  });
-  const [inviteOpen, setInviteOpen] = useState(false);
-
-  const initials = (name?: string, email?: string) => {
-    const src = name && name.trim().length > 0 ? name : email ?? "";
-    const parts = src.split(/[ \._@-]+/).filter(Boolean);
-    const a = parts[0]?.[0] ?? "?";
-    const b = parts[1]?.[0] ?? "";
-    return (a + b).toUpperCase();
-  };
-
-  useEffect(() => {
-    let alive = true;
-    (async () => {
-      try {
-        const [c, addr] = await Promise.all([getUserContact(), getUserAddresses()]);
-        if (!alive) return;
-
-        const incomingAvatar =
-          (c as any).avatarUrl ?? (c as any).avatar ?? (c as any).image ?? (c as any).photoUrl ?? undefined;
-
-        setContact({
-          email: c.email ?? "",
-          phone: c.phone ?? "",
-          name: c.name,
-          birthday: (c as any).birthday ?? (c as any).birthDate, // kept but not shown
-        } as Contact);
-        originalRef.current = { email: c.email ?? "", phone: c.phone ?? "" } as Contact;
-        setAvatarUrl(incomingAvatar);
-        setAddresses(addr);
-      } catch {
-        setBanner("Failed to load profile");
-      } finally {
-        if (alive) setLoadingPage(false);
-      }
-    })();
-    return () => {
-      alive = false;
-    };
-  }, []);
-
-  // stat count-up
-  useEffect(() => {
-    let id = 0;
-    const start = performance.now();
-    const duration = 1200;
-    const tick = (t: number) => {
-      const p = Math.min(1, (t - start) / duration);
-      setStats({
-        farmers: Math.round(targets.farmers * p),
-        orders: Math.round(targets.orders * p),
-        points: Math.round(targets.points * p),
-      });
-      if (p < 1) id = requestAnimationFrame(tick);
-    };
-    id = requestAnimationFrame(tick);
-    return () => cancelAnimationFrame(id);
-  }, [targets]);
-
-  const setEmailField = (val: string) => {
-    setEmailError(null);
-    setContact((prev) => ({ ...prev, email: val.trim().toLowerCase() }));
-  };
-  const setPhoneField = (val: string) => setContact((prev) => ({ ...prev, phone: val }));
-
-  const hasChanges = useMemo(() => {
-    const e0 = (originalRef.current.email ?? "").trim().toLowerCase();
-    const p0 = (originalRef.current.phone ?? "").trim();
-    const e1 = (contact.email ?? "").trim().toLowerCase();
-    const p1 = (contact.phone ?? "").trim();
-    return e0 !== e1 || p0 !== p1;
-  }, [contact]);
-
-  async function onSaveContact() {
-    setEmailError(null);
-    try {
-      setSavingContact(true);
-      const updated = await updateUserContact({
-        email: (contact.email ?? "").trim().toLowerCase(),
-        phone: (contact.phone ?? "").trim(),
-      });
-      setContact((p) => ({ ...p, email: updated.email, phone: updated.phone }));
-      originalRef.current = { email: updated.email, phone: updated.phone } as Contact;
-      setBanner("Contact updated");
-    } catch (e: any) {
-      setBanner(e?.response?.status === 409 ? "Email already in use" : "Update failed");
-      if (e?.response?.status === 409) setEmailError("Email already in use");
-    } finally {
-      setSavingContact(false);
-      setTimeout(() => setBanner(null), 2200);
-    }
-  }
-
-  async function onAddAddress(pick: { lat: number; lng: number; addressLine: string }) {
-    try {
-      const list = await createUserAddress({ lnt: pick.lat, alt: pick.lng, address: pick.addressLine });
-      setAddresses(list);
-      setBanner("Address added");
-    } catch {
-      setBanner("Add failed");
-    } finally {
-      setTimeout(() => setBanner(null), 2200);
-    }
-  }
-
-  async function onDeleteAddress(a: Address) {
-    try {
-      const key = `${a.lnt},${a.alt},${a.address}`;
-      setDeletingKey(key);
-      const updated = await deleteUserAddress({ lnt: a.lnt, alt: a.alt, address: a.address });
-      setAddresses(updated);
-      setBanner("Address removed");
-    } catch {
-      setBanner("Delete failed");
-    } finally {
-      setDeletingKey(null);
-      setTimeout(() => setBanner(null), 2200);
-    }
-  }
-
-  function onAvatarFileChange(e: React.ChangeEvent<HTMLInputElement>) {
-    const file = e.target.files?.[0];
-    if (!file) return;
-    const url = URL.createObjectURL(file); // preview only
-    setAvatarUrl(url);
-    setBanner("Photo selected");
-    setTimeout(() => setBanner(null), 1800);
-  }
-
-  // community helpers
-  function addFriendToRoot(email: string) {
-    const name = email.split("@")[0].replace(/[\.\-_]/g, " ");
-    setCommunity((prev) => ({
-      ...prev,
-      children: [
-        ...(prev.children ?? []),
-        { id: `c-${Date.now()}`, name: capitalizeWords(name), email },
-      ],
-    }));
-  }
-
-  function capitalizeWords(s: string) {
-    return s
-      .split(" ")
-      .filter(Boolean)
-      .map((w) => w[0]?.toUpperCase() + w.slice(1))
-      .join(" ");
-  }
-
-  if (loadingPage) return <Spinner size="sm" />;
-
-  return (
-    <Grid templateColumns={{ base: "1fr", md: "360px 1fr" }} gap={8} alignItems="start">
-      {/* left: contact */}
-      <Card.Root variant="elevated" shadow="sm" bg="white" _dark={{ bg: "gray.800" }}>
-        <Card.Header py={4} px={5} bgGradient="linear(to-r, teal.50, teal.100)">
-          <HStack justify="space-between" w="full" align="baseline">
-            <Card.Title color="teal.900" fontSize="sm" letterSpacing="widest" textTransform="uppercase">
-              Contact
-            </Card.Title>
-            <Meta>Keep your info up to date</Meta>
-          </HStack>
-        </Card.Header>
-        <Separator />
-        <Card.Body p={5} gap="4">
-          <HStack gap={5} align="center">
-            <AvatarBox url={avatarUrl} text={initials(contact.name, contact.email)} />
-            <Stack gap={1}>
-              <Button size="xs" colorPalette="teal" onClick={() => fileRef.current?.click()}>
-                Change photo
-              </Button>
-              <Input ref={fileRef} type="file" accept="image/*" hidden onChange={onAvatarFileChange} />
-              <Meta>PNG or JPG</Meta>
-            </Stack>
-          </HStack>
-
-          <Box>
-            <Label>Name</Label>
-            <Input size="sm" readOnly value={contact.name ?? ""} placeholder="—" />
-          </Box>
-          <Box>
-            <Label>Email</Label>
-            <Input
-              size="sm"
-              type="email"
-              value={contact.email}
-              onChange={(e) => setEmailField(e.target.value)}
-              aria-invalid={!!emailError}
-              borderColor={emailError ? "red.500" : undefined}
-            />
-            {emailError ? (
-              <Text mt="1" fontSize="xs" color="red.500">
-                {emailError}
-              </Text>
-            ) : null}
-          </Box>
-          <Box>
-            <Label>Phone</Label>
-            <Input size="sm" value={contact.phone} onChange={(e) => setPhoneField(e.target.value)} />
-          </Box>
-        </Card.Body>
-        <Separator />
-        <Card.Footer py={4} px={5} justifyContent="flex-end" bg="teal.50">
-          <Button size="sm" colorPalette="teal" loading={savingContact} disabled={!hasChanges} onClick={onSaveContact}>
-            Save changes
-          </Button>
-        </Card.Footer>
-      </Card.Root>
-
-      {/* right: stats + addresses + community */}
-      <Stack gap={8}>
-        {banner ? (
-          <Card.Root variant="subtle" shadow="xs" borderColor="teal.200">
-            <Card.Body p={3}>
-              <Text fontSize="sm">{banner}</Text>
-            </Card.Body>
-          </Card.Root>
-        ) : null}
-
-        {/* stats */}
-        <Card.Root variant="outline" borderColor="green.200">
-          <Card.Header py={3} px={4} bg="green.50">
-            <HStack justify="space-between" align="baseline">
-              <Card.Title fontSize="sm" color="green.900" textTransform="uppercase" letterSpacing="widest">
-                Your impact
-              </Card.Title>
-              <Meta>Live counters</Meta>
-            </HStack>
-          </Card.Header>
-          <Separator />
-          <Card.Body p={4}>
-            <Grid templateColumns={{ base: "1fr", md: "repeat(3, 1fr)" }} gap={4}>
-              <StatCard color="teal" title="Farmers supported" value={stats.farmers} target={targets.farmers} />
-              <StatCard color="blue" title="Total orders" value={stats.orders} target={targets.orders} />
-              <StatCard color="purple" title="Total points" value={stats.points} target={targets.points} />
-            </Grid>
-          </Card.Body>
-        </Card.Root>
-
-        {/* addresses */}
-        <Card.Root variant="elevated" shadow="sm">
-          <Card.Header py={4} px={5} bgGradient="linear(to-r, blue.50, blue.100)">
-            <HStack justify="space-between" w="full" align="baseline">
-              <Card.Title color="blue.900" fontSize="sm" textTransform="uppercase" letterSpacing="widest">
-                Addresses
-              </Card.Title>
-              <Badge size="sm" variant="solid" colorPalette="blue">
-                {addresses.length} saved
-              </Badge>
-            </HStack>
-          </Card.Header>
-          <Separator />
-          <Card.Body p={0}>
-            {addresses.length === 0 ? (
-              <Box p={5}>
-                <Text fontSize="sm">No addresses yet.</Text>
-              </Box>
-            ) : (
-              <Stack gap={0}>
-                {addresses.map((a, i) => {
-                  const key = `${a.lnt},${a.alt},${i}`;
-                  return (
-                    <HStack
-                      key={key}
-                      px={5}
-                      py={4}
-                      borderTopWidth={i === 0 ? 0 : "1px"}
-                      _hover={{ bg: "blue.50" }}
-                      transition="background 120ms"
-                      justify="space-between"
-                      align="center"
-                    >
-                      <HStack gap={3} align="start">
-                        <Box boxSize="8" rounded="full" bg="blue.200" display="grid" placeItems="center">
-                          <MapPin size={16} />
-                        </Box>
-                        <Box>
-                          <Text fontWeight="semibold" lineHeight="short">
-                            {a.address}
-                          </Text>
-                          <Meta>
-                            lat {a.lnt}, lng {a.alt}
-                          </Meta>
-                        </Box>
-                        {a.logisticCenterId ? (
-                          <Badge size="xs" colorPalette="blue" variant="subtle">
-                            LC: {a.logisticCenterId}
-                          </Badge>
-                        ) : null}
-                      </HStack>
-                      <Button
-                        size="xs"
-                        variant="ghost"
-                        colorPalette="red"
-                        loading={deletingKey === `${a.lnt},${a.alt},${a.address}`}
-                        onClick={() => onDeleteAddress(a)}
-                      >
-                        <HStack gap={1}>
-                          <Trash2 size={14} />
-                          <Text>Delete</Text>
-                        </HStack>
-                      </Button>
-                    </HStack>
-                  );
-                })}
-              </Stack>
-            )}
-          </Card.Body>
-          <Separator />
-          <Card.Footer py={4} px={5} justifyContent="flex-end" bg="blue.50">
-            <Button size="sm" colorPalette="blue" onClick={() => setAddrPickerOpen(true)}>
-              <HStack gap={2}>
-                <Plus size={16} />
-                <Text>Add address</Text>
-              </HStack>
-            </Button>
-          </Card.Footer>
-        </Card.Root>
-
-        {/* community */}
-        <Card.Root variant="outline" borderColor="purple.200">
-          <Card.Header py={3} px={4} bg="purple.50">
-            <HStack justify="space-between" align="baseline">
-              <Card.Title fontSize="sm" color="purple.900" textTransform="uppercase" letterSpacing="widest">
-                Community
-              </Card.Title>
-              <Button size="xs" colorPalette="purple" onClick={() => setInviteOpen(true)}>
-                <HStack gap={1}>
-                  <UserPlus size={14} />
-                  <Text>Add friend</Text>
-                </HStack>
-              </Button>
-            </HStack>
-          </Card.Header>
-          <Separator />
-          <Card.Body p={4}>
-            <CommunityTree root={community} />
-          </Card.Body>
-        </Card.Root>
-      </Stack>
-
-      {/* address picker */}
-      <MPD
-        open={addrPickerOpen}
-        onClose={() => setAddrPickerOpen(false)}
-        onConfirm={(p: any) => {
-          setAddrPickerOpen(false);
-          onAddAddress({ lat: p.lat, lng: p.lng, addressLine: p.address });
-        }}
-        initial={{ address: undefined, lat: 31.771959, lng: 35.217018 }}
-      />
-
-      {/* invite modal */}
-      <InviteModal
-        open={inviteOpen}
-        onClose={() => setInviteOpen(false)}
-        defaultMessage={`Hi! Join me in the app—use my invite to support local farmers and earn points.`}
-        onSubmit={(email) => {
-          addFriendToRoot(email);
-          setInviteOpen(false);
-          setBanner("Invitation prepared");
-          setTimeout(() => setBanner(null), 1800);
-        }}
-      />
-    </Grid>
-  );
-}
-
-/* ---------- stat card ---------- */
-function StatCard({
-  title,
-  value,
-  target,
-  color,
-}: {
-  title: string;
-  value: number;
-  target: number;
-  color: "teal" | "blue" | "purple";
-}) {
-  const progress = target > 0 ? Math.min(1, value / target) : 1;
-  const scale = 0.9 + 0.2 * progress;
-  return (
-    <Box
-      p={5}
-      borderWidth="1px"
-      borderColor={`${color}.200`}
-      bgGradient={`linear(to-b, ${color}.50, white)`}
-      rounded="lg"
-      textAlign="center"
-      shadow="xs"
-    >
-      <Text fontSize="xs" color={`${color}.800`} mb={2} letterSpacing="widest" textTransform="uppercase">
-        {title}
-      </Text>
-      <Box transform={`scale(${scale})`} transformOrigin="center">
-        <Text fontSize="3xl" fontWeight="extrabold" color={`${color}.900`} lineHeight="shorter">
-          {value.toLocaleString()}
-        </Text>
-      </Box>
-      <Box mt={3} h="2" rounded="full" bg={`${color}.100`} overflow="hidden">
-        <Box h="full" w={`${progress * 100}%`} bg={`${color}.400`} transition="width 120ms" />
-      </Box>
-    </Box>
-  );
-}
-
-/* ---------- Community tree (simple org chart) ---------- */
-function CommunityTree({ root }: { root: CommunityNode }) {
-  return (
-    <Box>
-      <OrgNode node={root} depth={0} />
-    </Box>
-  );
-}
-
-function OrgNode({ node, depth }: { node: CommunityNode; depth: number }) {
-  const isRoot = depth === 0;
-  return (
-    <Stack align="center" gap={3}>
-      <Box
-        px={3}
-        py={2}
-        rounded="md"
-        borderWidth="1px"
-        borderColor={isRoot ? "purple.300" : "gray.200"}
-        bg={isRoot ? "purple.100" : "white"}
-        minW="220px"
-        textAlign="center"
-        shadow="xs"
-      >
-        <Text fontWeight={isRoot ? "bold" : "semibold"} color={isRoot ? "purple.900" : "gray.800"}>
-          {node.name || node.email || "User"}
-        </Text>
-        {node.email ? <Meta>{node.email}</Meta> : null}
-      </Box>
-
-      {node.children && node.children.length > 0 ? (
-        <Box w="full">
-          {/* connector */}
-          <Box h="4" borderLeftWidth="2px" borderColor="purple.200" mx="auto" />
-          <HStack
-            align="start"
-            justify="center"
-            gap={6}
-            position="relative"
-            _before={{
-              content: '""',
-              position: "absolute",
-              top: 0,
-              left: "10%",
-              right: "10%",
-              borderTop: "2px solid",
-              borderColor: "purple.200",
-            }}
-            pt="3"
-          >
-            {node.children.map((c) => (
-              <OrgNode key={c.id} node={c} depth={depth + 1} />
-            ))}
-          </HStack>
-        </Box>
-      ) : null}
-    </Stack>
-  );
-}
-
-/* ---------- Invite Modal (lightweight, no Chakra Modal API dependency) ---------- */
-function InviteModal({
-  open,
-  onClose,
-  onSubmit,
-  defaultMessage,
-}: {
-  open: boolean;
-  onClose: () => void;
-  onSubmit: (email: string, message: string) => void;
-  defaultMessage: string;
-}) {
-  const [email, setEmail] = useState("");
-  const [msg, setMsg] = useState(defaultMessage);
-
-  if (!open) return null;
-
-  return (
-    <Box
-      position="fixed"
-      inset="0"
-      bg="blackAlpha.600"
-      display="grid"
-      placeItems="center"
-      zIndex={1000}
-      p={4}
-    >
-      <Box w="full" maxW="480px" bg="white" _dark={{ bg: "gray.800" }} rounded="lg" shadow="lg" overflow="hidden">
-        <Box bg="purple.50" px={4} py={3}>
-          <Text fontSize="sm" color="purple.900" fontWeight="semibold">
-            Invite a friend
-          </Text>
-        </Box>
-        <Box p={4}>
-          <Box mb={3}>
-            <Label>Email</Label>
-            <Input
-              size="sm"
-              type="email"
-              placeholder="friend@email.com"
-              value={email}
-              onChange={(e) => setEmail(e.target.value)}
-            />
-          </Box>
-          <Box>
-            <Label>Message</Label>
-            <Textarea
-              size="sm"
-              rows={4}
-              value={msg}
-              onChange={(e) => setMsg(e.target.value)}
-            />
-          </Box>
-        </Box>
-        <HStack justify="flex-end" gap={2} px={4} py={3} bg="purple.50">
-          <Button size="sm" variant="ghost" onClick={onClose}>
-            Cancel
-          </Button>
-          <Button
-            size="sm"
-            colorPalette="purple"
-            onClick={() => {
-              if (!email) return;
-              onSubmit(email.trim().toLowerCase(), msg);
-              setEmail("");
-              setMsg(defaultMessage);
-            }}
-          >
-            Send invite
-          </Button>
-        </HStack>
-      </Box>
-    </Box>
-  );
-}
diff --git a/frontend/src/routes/AppRoutes.tsx b/frontend/src/routes/AppRoutes.tsx
index 7f0d76f..009724f 100644
--- a/frontend/src/routes/AppRoutes.tsx
+++ b/frontend/src/routes/AppRoutes.tsx
@@ -7,7 +7,7 @@ import RoleGuard from "@/guards/RoleGuard";
 import { PATHS } from "./paths";
 import AppShell from "@/components/layout/AppShell";
 
-// Lazy pages
+// Lazy pages (unchanged)
 const Home = lazy(() => import("@/pages/Home"));
 const Login = lazy(() => import("@/pages/Login"));
 const Register = lazy(() => import("@/pages/Register"));
@@ -15,7 +15,6 @@ const Dashboard = lazy(() => import("@/pages/Dashboard"));
 const DriverSchedule = lazy(() => import("@/pages/DriverSchedule"));
 const JobApplication = lazy(() => import("@/pages/JobApplication"));
 const AvailabileJobs = lazy(() => import("@/pages/AvailableJobs"));
-
 const OpsOrderPage = lazy(() => import("@/pages/OpsOrder"));
 const CustomerConfirmPage = lazy(() => import("@/pages/CustomerConfirm"));
 const ArrivalConfirmPage = lazy(() => import("@/pages/ArrivalConfirm"));
@@ -24,132 +23,135 @@ const FarmerCropManagement = lazy(() => import("@/pages/FarmerCropManagement"));
 const Market = lazy(() => import("@/pages/Market"));
 const Cart = lazy(() => import("@/pages/Cart"));
 const Checkout = lazy(() => import("@/pages/Checkout"));
-const Profile = lazy(() => import("@/pages/profile"));
+const Profile = lazy(() => import("@/pages/Profile"));
 const Orders = lazy(() => import("@/pages/Orders"));
 const DeliveryNote = lazy(() => import("@/pages/DeliveryNote"));
-
 const NotFound = lazy(() => import("@/pages/NotFound"));
 const ItemManager = lazy(() => import("@/pages/ItemManager"));
 const AdminDashboard = lazy(() => import("@/pages/AdminDashboard"));
 const JobAppReview = lazy(() => import("@/pages/JobAppReview"));
 const CropHarvest = lazy(() => import("@/pages/AdminExpectedHarvest"));
-const PackageSizesPage = lazy(() => import("@/pages/package-sizes"));
+const PackageSizesPage = lazy(() => import("@/pages/packageSizes"));
+
 
 export default function AppRoutes() {
   return (
     <Suspense fallback={null}>
       <Routes>
-        {/* Root shell: by default renders header + footer */}
+        {/* --- Public, default chrome --- */}
         <Route element={<AppShell />}>
-          {/* Public */}
           <Route path={PATHS.home} element={<Home />} />
+          <Route path={PATHS.notFound} element={<NotFound />} />
+        </Route>
 
-          {/* Login/Register: hide chrome, narrow container */}
-          <Route element={<GuestGuard />}>
-            <Route element={<AppShell showHeader={false} showFooter={false} maxW="md" />}>
-              <Route path={PATHS.login} element={<Login />} />
-              <Route path={PATHS.register} element={<Register />} />
-            </Route>
-          </Route>
+        {/* --- Public, immersive (no chrome) --- */}
+        <Route
+          element={
+            <AppShell showHeader={false} showFooter={false} px={0} py={0} maxW="container.md" />
+          }
+        >
+          <Route path={PATHS.ops} element={<OpsOrderPage />} />
+          <Route path={PATHS.customerConfirm} element={<CustomerConfirmPage />} />
+          <Route path={PATHS.arrivalConfirm} element={<ArrivalConfirmPage />} />
+        </Route>
 
-          {/* Public QR endpoints: immersive (no chrome, zero padding) */}
-          <Route element={<AppShell showHeader={false} showFooter={false} px={0} py={0} maxW="container.md" />}>
-            <Route path={PATHS.ops} element={<OpsOrderPage />} />
-            <Route path={PATHS.customerConfirm} element={<CustomerConfirmPage />} />
-            <Route path={PATHS.arrivalConfirm} element={<ArrivalConfirmPage />} />
+        {/* --- Guest-only (login/register), no chrome, narrow --- */}
+        <Route element={<GuestGuard />}>
+          <Route element={<AppShell showFooter={false} maxW="md" />}>
+            <Route path={PATHS.login} element={<Login />} />
+            <Route path={PATHS.register} element={<Register />} />
           </Route>
+        </Route>
 
-          {/* Authenticated */}
-          <Route element={<AuthGuard />}>
-            {/* Jobs (protected) */}
-            <Route path={PATHS.jobs} element={<AvailabileJobs />} />
-            <Route path={PATHS.jobApplication} element={<JobApplication />} />
+        {/* --- Authenticated, default chrome --- */}
+        <Route element={<AuthGuard><AppShell /></AuthGuard>}>
+          {/* General protected */}
+          <Route path={PATHS.dashboard} element={<Dashboard />} />
+          <Route path={PATHS.jobs} element={<AvailabileJobs />} />
+          <Route path={PATHS.jobApplication} element={<JobApplication />} />
+          <Route path={PATHS.market} element={<Market />} />
+          <Route path={PATHS.orders} element={<Orders />} />
 
-            {/* Admin-only */}
-            <Route path={PATHS.ItemsManagment} element={<ItemManager />} />
-            <Route
-              path={PATHS.adminDashboard}
-              element={
-                <RoleGuard allow={["admin"]}>
-                  <AdminDashboard />
-                </RoleGuard>
-              }
-            />
-            <Route
-              path={PATHS.JobAppReview}
-              element={
-                <RoleGuard allow={["admin"]}>
-                  <JobAppReview />
-                </RoleGuard>
-              }
-            />
-            <Route
-              path={PATHS.cropHarvest}
-              element={
-                <RoleGuard allow={["admin"]}>
-                  <CropHarvest />
-                </RoleGuard>
-              }
-            />
+          {/* Admin-only */}
+          <Route
+            path={PATHS.adminDashboard}
+            element={
+              <RoleGuard allow={["admin"]}>
+                <AdminDashboard />
+              </RoleGuard>
+            }
+          />
+          <Route
+            path={PATHS.JobAppReview}
+            element={
+              <RoleGuard allow={["admin"]}>
+                <JobAppReview />
+              </RoleGuard>
+            }
+          />
+          <Route
+            path={PATHS.cropHarvest}
+            element={
+              <RoleGuard allow={["admin"]}>
+                <CropHarvest />
+              </RoleGuard>
+            }
+          />
+          <Route path={PATHS.ItemsManagment} element={<ItemManager />} />
 
-            {/* Dashboard */}
-            <Route path={PATHS.dashboard} element={<Dashboard />} />
+          {/* Package sizes (admin + dManager) */}
+          <Route
+            path={PATHS.PackageSizes}
+            element={
+              <RoleGuard allow={["admin", "dManager"]}>
+                <PackageSizesPage />
+              </RoleGuard>
+            }
+          />
 
-            {/* Package sizes (admin + dManager) */}
-            <Route
-              path={PATHS.PackageSizes}
-              element={
-                <RoleGuard allow={["admin", "dManager"]}>
-                  <PackageSizesPage />
-                </RoleGuard>
-              }
-            />
+          {/* Driver-only */}
+          <Route
+            path={PATHS.driverSchedule}
+            element={
+              <RoleGuard allow={["driver"]}>
+                <DriverSchedule />
+              </RoleGuard>
+            }
+          />
 
-            {/* Customer pages */}
-            <Route path={PATHS.market} element={<Market />} />
-            <Route element={<AppShell showFooter={false} />}>
-              <Route path={PATHS.cart} element={<Cart />} />
-              <Route path={PATHS.checkout} element={<Checkout />} />
-            </Route>
-            <Route element={<AppShell maxW="5xl" />}>
-              <Route path={PATHS.profile} element={<Profile />} />
-            </Route>
-            <Route path={PATHS.orders} element={<Orders />} />
-            <Route element={<AppShell showHeader={false} />}>
-              <Route path={PATHS.deliveryNote} element={<DeliveryNote />} />
-            </Route>
+          {/* Farmer-only */}
+          <Route
+            path={PATHS.farmerDashboard}
+            element={
+              <RoleGuard allow={["farmer"]}>
+                <FarmerDashboard />
+              </RoleGuard>
+            }
+          />
+          <Route
+            path={PATHS.FarmerCropManagement}
+            element={
+              <RoleGuard allow={["farmer"]}>
+                <FarmerCropManagement />
+              </RoleGuard>
+            }
+          />
+        </Route>
 
-            {/* Driver-only */}
-            <Route
-              path={PATHS.driverSchedule}
-              element={
-                <RoleGuard allow={["driver"]}>
-                  <DriverSchedule />
-                </RoleGuard>
-              }
-            />
+        {/* --- Authenticated, no FOOTER --- */}
+        <Route element={<AuthGuard><AppShell showFooter={false} /></AuthGuard>}>
+          <Route path={PATHS.cart} element={<Cart />} />
+          <Route path={PATHS.checkout} element={<Checkout />} />
+        </Route>
 
-            {/* Farmer-only */}
-            <Route
-              path={PATHS.farmerDashboard}
-              element={
-                <RoleGuard allow={["farmer"]}>
-                  <FarmerDashboard />
-                </RoleGuard>
-              }
-            />
-            <Route
-              path={PATHS.FarmerCropManagement}
-              element={
-                <RoleGuard allow={["farmer"]}>
-                  <FarmerCropManagement />
-                </RoleGuard>
-              }
-            />
-          </Route>
+        {/* --- Authenticated, no FOOTER + wider --- */}
+        <Route element={<AuthGuard><AppShell showFooter={false} maxW="5xl" /></AuthGuard>}>
+          <Route path={PATHS.profile} element={<Profile />} />
+        </Route>
 
-          {/* Not Found (no footer) */}
-          <Route path={PATHS.notFound} element={<NotFound />} />
+        {/* --- Authenticated, no HEADER --- */}
+        <Route element={<AuthGuard><AppShell showHeader={false} /></AuthGuard>}>
+          <Route path={PATHS.deliveryNote} element={<DeliveryNote />} />
         </Route>
 
         {/* Fallback */}
@@ -157,4 +159,4 @@ export default function AppRoutes() {
       </Routes>
     </Suspense>
   );
-}
+}
\ No newline at end of file
diff --git a/frontend/src/types/address.ts b/frontend/src/types/address.ts
index 0a1c916..14628a1 100644
--- a/frontend/src/types/address.ts
+++ b/frontend/src/types/address.ts
@@ -1,11 +1,62 @@
-// types/address.ts
 import { z } from "zod";
 
-export const AddressSchema = z.object({
-  lnt: z.number(),
-  alt: z.number(),
-  address: z.string(),
-  logisticCenterId: z.string().optional(),
+// coerce number-ish values and ensure they’re finite
+const zNumberCoerced = z.preprocess((v) => {
+  const n = typeof v === "string" ? Number(v) : v;
+  return typeof n === "number" && Number.isFinite(n) ? n : NaN;
+}, z.number());
+
+// treat null/undefined as "", then require non-empty
+const zNonEmptyString = z.preprocess(
+  (v) => (v == null ? "" : String(v).trim()),
+  z.string().min(1)
+);
+
+// allow null or string for LC id, normalize to string or null
+const zLcId = z.preprocess(
+  (v) => (v == null ? null : String(v)),
+  z.string().min(1).nullable()
+);
+
+// Accept either {lnt,alt} or {lat,lng} and normalize
+const AddressInputSchema = z.object({
+  lnt: zNumberCoerced.optional(),
+  alt: zNumberCoerced.optional(),
+  lat: zNumberCoerced.optional(),
+  lng: zNumberCoerced.optional(),
+  address: zNonEmptyString.optional(),
+  logisticCenterId: zLcId.optional(),
 });
+
+export const AddressSchema = AddressInputSchema.transform((raw) => {
+  const lnt = raw.lnt ?? raw.lat;
+  const alt = raw.alt ?? raw.lng;
+  const address = raw.address ?? "";
+  return {
+    lnt,
+    alt,
+    address,
+    logisticCenterId: raw.logisticCenterId ?? null,
+  };
+}).pipe(
+  z.object({
+    lnt: z.number(),
+    alt: z.number(),
+    address: z.string().min(1),
+    logisticCenterId: z.string().nullable(),
+  })
+);
+
 export type Address = z.infer<typeof AddressSchema>;
-export const AddressListSchema = z.array(AddressSchema);
+
+export const AddressListSchema = z
+  .array(AddressSchema)
+  // filter out any that still failed number checks (just in case)
+  .transform((list) =>
+    list.filter(
+      (a) =>
+        Number.isFinite(a.lnt) &&
+        Number.isFinite(a.alt) &&
+        a.address.trim().length > 0
+    )
+  );
diff --git a/frontend/src/utils/googleMaps.ts b/frontend/src/utils/googleMaps.ts
index 208aea2..bd4626c 100644
--- a/frontend/src/utils/googleMaps.ts
+++ b/frontend/src/utils/googleMaps.ts
@@ -1,27 +1,41 @@
-import { Loader } from "@googlemaps/js-api-loader";
+// src/utils/googleMaps.ts
+import { setOptions, importLibrary } from "@googlemaps/js-api-loader";
 import { GOOGLE_MAPS_API_KEY } from "../helpers/env";
 
-let mapsPromise: Promise<typeof google> | null = null;
+let optionsSet = false;
+let ready: Promise<typeof google> | null = null;
 
-export function loadGoogleMaps(): Promise<typeof google> {
-  if (!mapsPromise) {
-    if (!GOOGLE_MAPS_API_KEY) throw new Error("VITE_GOOGLE_MAPS_API_KEY is missing");
+function ensureOptions() {
+  if (optionsSet) return;
+  if (!GOOGLE_MAPS_API_KEY) {
+    throw new Error("GOOGLE_MAPS_API_KEY is missing (check env)");
+  }
+  setOptions({
+    key: GOOGLE_MAPS_API_KEY, // v2: "key" (not "apiKey")
+    v: "weekly",
+    language: "en",
+    region: "US",
+  });
+  optionsSet = true;
+}
 
-    const loader = new Loader({
-      apiKey: GOOGLE_MAPS_API_KEY,
-      version: "weekly",
-      language: "en",
-      region: "US",
-    });
+/** Load Maps + Places and return the global `google` (typed). */
+export function loadGoogleMaps(): Promise<typeof google> {
+  if (ready) return ready;
+  ensureOptions();
+  ready = Promise.all([
+    importLibrary("maps"),
+    importLibrary("places").catch(() => undefined), // safe if Places not enabled
+  ]).then(() => (window as any).google as typeof google);
+  return ready;
+}
 
-    mapsPromise = (async () => {
-      await loader.importLibrary("maps");
-      // load Places if other parts need it; ignore if not installed
-      try { await loader.importLibrary("places"); } catch {}
-      return (window as any).google as typeof google;
-    })();
-  }
-  return mapsPromise;
+export async function createMap(
+  el: HTMLElement,
+  opts: google.maps.MapOptions
+): Promise<google.maps.Map> {
+  const g = await loadGoogleMaps();
+  return new g.maps.Map(el, opts);
 }
 
 export async function reverseGeocode(lat: number, lng: number) {
